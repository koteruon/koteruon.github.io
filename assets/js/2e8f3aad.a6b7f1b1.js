"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[9809],{61145:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>h,contentTitle:()=>i,default:()=>j,frontMatter:()=>d,metadata:()=>r,toc:()=>a});var s=l(74848),c=l(28453);const d={},i="Advanced - Kubectl",r={id:"notes/kubernetes-basics/advanced-kubectl",title:"Advanced - Kubectl",description:"kubectl \u662f Kubernetes \u7684\u547d\u4ee4\u5217\u5de5\u5177\uff0c\u7528\u65bc\u8207 Kubernetes \u53e2\u96c6\u4e92\u52d5\u3002\u900f\u904e kubectl\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u7ba1\u7406\u53e2\u96c6\u4e2d\u7684\u8cc7\u6e90\u3001\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f\u3001\u6aa2\u67e5\u72c0\u614b\u4ee5\u53ca\u9032\u884c\u6545\u969c\u6392\u9664\u3002",source:"@site/docs/notes/kubernetes-basics/12-advanced-kubectl.mdx",sourceDirName:"notes/kubernetes-basics",slug:"/notes/kubernetes-basics/advanced-kubectl",permalink:"/docs/notes/kubernetes-basics/advanced-kubectl",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:12,frontMatter:{},sidebar:"notesSidebar",previous:{title:"Advanced - Pod Lifecycle",permalink:"/docs/notes/kubernetes-basics/advanced-pod-lifecycle"},next:{title:"Outline",permalink:"/docs/notes/design-pattern"}},h={},a=[{value:"\u4ec0\u9ebc\u662f kubectl\uff1f",id:"\u4ec0\u9ebc\u662f-kubectl",level:2},{value:"\u529f\u80fd\u7279\u8272",id:"\u529f\u80fd\u7279\u8272",level:3},{value:"\u5b89\u88dd kubectl",id:"\u5b89\u88dd-kubectl",level:2},{value:"\u5728 macOS",id:"\u5728-macos",level:3},{value:"\u5728 Linux",id:"\u5728-linux",level:3},{value:"\u5728 Windows",id:"\u5728-windows",level:3},{value:"\u5b89\u88dd\u8a2d\u5b9a",id:"\u5b89\u88dd\u8a2d\u5b9a",level:3},{value:"\u57fa\u672c\u8a9e\u6cd5",id:"\u57fa\u672c\u8a9e\u6cd5",level:2},{value:"\u5e38\u7528\u6307\u4ee4",id:"\u5e38\u7528\u6307\u4ee4",level:2},{value:"\u6aa2\u8996\u53e2\u96c6\u8cc7\u6e90",id:"\u6aa2\u8996\u53e2\u96c6\u8cc7\u6e90",level:3},{value:"\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f",id:"\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f",level:3},{value:"\u6392\u9664\u6545\u969c",id:"\u6392\u9664\u6545\u969c",level:3},{value:"\u522a\u9664\u8cc7\u6e90",id:"\u522a\u9664\u8cc7\u6e90",level:3},{value:"\u8cc7\u6e90\u72c0\u614b\u8207\u76e3\u63a7",id:"\u8cc7\u6e90\u72c0\u614b\u8207\u76e3\u63a7",level:3},{value:"\u532f\u51fa\u8207\u532f\u5165\u914d\u7f6e",id:"\u532f\u51fa\u8207\u532f\u5165\u914d\u7f6e",level:3},{value:"\u547d\u540d\u7a7a\u9593\u76f8\u95dc",id:"\u547d\u540d\u7a7a\u9593\u76f8\u95dc",level:3},{value:"\u6307\u4ee4\u8a73\u7d30\u4ecb\u7d39",id:"\u6307\u4ee4\u8a73\u7d30\u4ecb\u7d39",level:2},{value:"1. <code>kubectl apply</code>",id:"1-kubectl-apply",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5",level:4},{value:"\u53c3\u6578\u8aaa\u660e\uff1a",id:"\u53c3\u6578\u8aaa\u660e",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b",level:4},{value:"2. <code>kubectl describe</code>",id:"2-kubectl-describe",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-1",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-1",level:4},{value:"\u53c3\u6578\u8aaa\u660e\uff1a",id:"\u53c3\u6578\u8aaa\u660e-1",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-1",level:4},{value:"3. <code>kubectl get</code>",id:"3-kubectl-get",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-2",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-2",level:4},{value:"\u53c3\u6578\u8aaa\u660e\uff1a",id:"\u53c3\u6578\u8aaa\u660e-2",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-2",level:4},{value:"4. <code>kubectl create</code>",id:"4-kubectl-create",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-3",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-3",level:4},{value:"\u53c3\u6578\u8aaa\u660e\uff1a",id:"\u53c3\u6578\u8aaa\u660e-3",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-3",level:4},{value:"5. <code>kubectl delete</code>",id:"5-kubectl-delete",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-4",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-4",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-4",level:4},{value:"6. <code>kubectl run</code>",id:"6-kubectl-run",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-5",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-5",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-5",level:4},{value:"7. <code>kubectl expose</code>",id:"7-kubectl-expose",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-6",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-6",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-6",level:4},{value:"8. <code>kubectl set</code>",id:"8-kubectl-set",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-7",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-7",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-7",level:4},{value:"9. <code>kubectl exec</code>",id:"9-kubectl-exec",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-8",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-8",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-8",level:4},{value:"10. <code>kubectl logs</code>",id:"10-kubectl-logs",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-9",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-9",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-9",level:4},{value:"\u9032\u968e\u6307\u4ee4\u4ecb\u7d39",id:"\u9032\u968e\u6307\u4ee4\u4ecb\u7d39",level:2},{value:"1. <code>kubectl config</code>",id:"1-kubectl-config",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-10",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-10",level:4},{value:"2. <code>kubectl patch</code>",id:"2-kubectl-patch",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-11",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-10",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-11",level:4},{value:"3. <code>kubectl debug</code>",id:"3-kubectl-debug",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-12",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-11",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-12",level:4},{value:"4. <code>kubectl logs --since</code>",id:"4-kubectl-logs---since",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-13",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-12",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-13",level:4},{value:"5. <code>kubectl port-forward</code>",id:"5-kubectl-port-forward",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-14",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-13",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-14",level:4},{value:"6. <code>-o=jsonpath</code>",id:"6--ojsonpath",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-15",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-14",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-15",level:4},{value:"7. <code>Label \u9078\u64c7\u5668</code>",id:"7-label-\u9078\u64c7\u5668",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-16",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-15",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-16",level:4},{value:"8. <code>kubectl apply --prune</code>",id:"8-kubectl-apply---prune",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-17",level:4},{value:"\u8a9e\u6cd5\uff1a",id:"\u8a9e\u6cd5-16",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-17",level:4},{value:"9. <code>--dry-run</code>",id:"9---dry-run",level:3},{value:"\u529f\u80fd\uff1a",id:"\u529f\u80fd-18",level:4},{value:"\u985e\u578b\uff1a",id:"\u985e\u578b",level:4},{value:"\u7bc4\u4f8b\uff1a",id:"\u7bc4\u4f8b-18",level:4},{value:"\u66f4\u591a\u7d30\u7bc0",id:"\u66f4\u591a\u7d30\u7bc0",level:2}];function x(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"advanced---kubectl",children:"Advanced - Kubectl"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"kubectl"})," \u662f Kubernetes \u7684\u547d\u4ee4\u5217\u5de5\u5177\uff0c\u7528\u65bc\u8207 Kubernetes \u53e2\u96c6\u4e92\u52d5\u3002\u900f\u904e ",(0,s.jsx)(n.code,{children:"kubectl"}),"\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u7ba1\u7406\u53e2\u96c6\u4e2d\u7684\u8cc7\u6e90\u3001\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f\u3001\u6aa2\u67e5\u72c0\u614b\u4ee5\u53ca\u9032\u884c\u6545\u969c\u6392\u9664\u3002"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u4ec0\u9ebc\u662f-kubectl",children:"\u4ec0\u9ebc\u662f kubectl\uff1f"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"kubectl"})," \u662f Kubernetes \u63d0\u4f9b\u7684\u4e3b\u8981 CLI \u5de5\u5177\uff0c\u80fd\u5920\u8b93\u4f7f\u7528\u8005\u900f\u904e\u7c21\u55ae\u7684\u547d\u4ee4\u8207 Kubernetes API \u4f3a\u670d\u5668\u9032\u884c\u4e92\u52d5\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u529f\u80fd\u7279\u8272",children:"\u529f\u80fd\u7279\u8272"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u7ba1\u7406\u53e2\u96c6\u8cc7\u6e90\uff08Pod\u3001Service\u3001Deployment \u7b49\uff09\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u90e8\u7f72\u8207\u6efe\u52d5\u66f4\u65b0\u61c9\u7528\u7a0b\u5f0f\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u76e3\u63a7\u53e2\u96c6\u7684\u72c0\u614b\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u9664\u932f\u8207\u6392\u89e3\u554f\u984c\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u5b89\u88dd-kubectl",children:"\u5b89\u88dd kubectl"}),"\n",(0,s.jsx)(n.h3,{id:"\u5728-macos",children:"\u5728 macOS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"brew install kubectl\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5728-linux",children:"\u5728 Linux"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt-get update\nsudo apt-get install -y kubectl\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5728-windows",children:"\u5728 Windows"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"choco install kubernetes-cli\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5b89\u88dd\u8a2d\u5b9a",children:"\u5b89\u88dd\u8a2d\u5b9a"}),"\n",(0,s.jsx)(n.p,{children:"\u6700\u5e38\u898b\u7684\u65b9\u5f0f\u662f\u900f\u904e kubeconfig \u6a94\u6848(\u9810\u8a2d\u5728\u5bb6\u76ee\u9304\u5e95\u4e0b.kube/config)\u4f86\u8a2d\u5b9a kubectl\u3002\n\u5982\u679c\u662f\u4f7f\u7528 GKE \u6216\u662f Amazon EKS \u6216 Azure AKS \u9019\u6a23\u7684\u96f2\u7aef\u670d\u52d9\uff0c\u4ed6\u5011\u7684\u547d\u4ee4\u5217\u5de5\u5177\u6703\u81ea\u52d5\u751f\u6210\u9069\u7576\u7684 kubeconfig \u6a94\u6848\u3002\n\u4f7f\u7528 kubectl get nodes\uff0c\u5c31\u53ef\u4ee5\u770b\u5230 kubernetes \u53e2\u96c6\u4e2d\u7684\u7bc0\u9ede\u5217\u8868\uff0c\u9019\u4ee3\u8868\u4f60\u5df2\u7d93\u6210\u529f\u8a2d\u5b9a\u4e26\u9023\u63a5\u5230\u53e2\u96c6\u3002"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u57fa\u672c\u8a9e\u6cd5",children:"\u57fa\u672c\u8a9e\u6cd5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl [command] [TYPE] [NAME] [flags]\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"command"})}),"\uff1a\u52d5\u4f5c\uff0c\u4f8b\u5982 ",(0,s.jsx)(n.code,{children:"get"}),"\u3001",(0,s.jsx)(n.code,{children:"describe"}),"\u3001",(0,s.jsx)(n.code,{children:"apply"})," \u7b49\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"TYPE"})}),"\uff1a\u8cc7\u6e90\u985e\u578b\uff0c\u4f8b\u5982 ",(0,s.jsx)(n.code,{children:"pod"}),"\u3001",(0,s.jsx)(n.code,{children:"service"}),"\u3001",(0,s.jsx)(n.code,{children:"deployment"})," \u7b49\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"NAME"})}),"\uff1a\u8cc7\u6e90\u540d\u7a31\uff08\u53ef\u9078\uff09\uff0c\u540d\u7a31\u5340\u5206\u5927\u5c0f\u5beb\uff0c\u82e5\u7701\u7565\u5247\u986f\u793a\u5168\u90e8\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"flags"})}),"\uff1a\u984d\u5916\u7684\u9078\u9805\uff0c\u4f8b\u5982 ",(0,s.jsx)(n.code,{children:"--namespace"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u5e38\u7528\u6307\u4ee4",children:"\u5e38\u7528\u6307\u4ee4"}),"\n",(0,s.jsx)(n.h3,{id:"\u6aa2\u8996\u53e2\u96c6\u8cc7\u6e90",children:"\u6aa2\u8996\u53e2\u96c6\u8cc7\u6e90"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5217\u51fa\u6240\u6709 Pod\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u986f\u793a\u6240\u6709 Pod \u7684\u72c0\u614b\uff0c\u5982 ",(0,s.jsx)(n.code,{children:"Running"}),"\u3001",(0,s.jsx)(n.code,{children:"Pending"})," \u7b49\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5217\u51fa\u6240\u6709\u8cc7\u6e90\uff08\u5305\u62ec Pod\u3001Service \u7b49\uff09\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get all\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u986f\u793a\u8a73\u7d30\u8cc7\u8a0a\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl describe pod <POD_NAME>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u63d0\u4f9b Pod \u7684\u4e8b\u4ef6\u65e5\u8a8c\u3001\u72c0\u614b\u548c\u932f\u8aa4\u6392\u67e5\u8cc7\u8a0a\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5217\u51fa\u8cc7\u6e90\u4e26\u986f\u793a\u5176\u547d\u540d\u7a7a\u9593\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods --all-namespaces\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u7be9\u9078\u7279\u5b9a\u6a19\u7c64\u7684\u8cc7\u6e90\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -l app=<APP_LABEL>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f",children:"\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5efa\u7acb Deployment\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f deployment.yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6839\u64da YAML \u6587\u4ef6\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u76f4\u63a5\u555f\u52d5\u55ae\u4e00\u5bb9\u5668\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl run nginx --image=nginx\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5275\u5efa\u4e00\u500b\u540d\u70ba ",(0,s.jsx)(n.code,{children:"nginx"})," \u7684 Pod\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u6efe\u52d5\u66f4\u65b0 Deployment\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl set image deployment/<DEPLOYMENT_NAME> <CONTAINER_NAME>=<IMAGE>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u66f4\u65b0 Deployment \u4e2d\u7684\u5bb9\u5668\u6620\u50cf\uff0c\u4f8b\u5982\u5347\u7d1a\u7248\u672c\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u6aa2\u67e5\u66f4\u65b0\u72c0\u614b\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl rollout status deployment/<DEPLOYMENT_NAME>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u56de\u6efe\u5230\u5148\u524d\u7248\u672c\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl rollout undo deployment/<DEPLOYMENT_NAME>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u67e5\u770b\u6b77\u53f2\u7248\u672c\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl rollout history deployment/<DEPLOYMENT_NAME>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u6392\u9664\u6545\u969c",children:"\u6392\u9664\u6545\u969c"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u67e5\u770b Pod \u65e5\u8a8c\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs <POD_NAME>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b\u5bb9\u5668\u7684\u8f38\u51fa\u65e5\u8a8c\uff0c\u5e6b\u52a9\u6392\u67e5\u61c9\u7528\u554f\u984c\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u67e5\u770b\u6700\u8fd1\u7684 n \u884c\u65e5\u8a8c\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs <POD_NAME> --tail=<N>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u8ffd\u8e64\u5be6\u6642\u65e5\u8a8c\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs -f <POD_NAME>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u9032\u5165 Pod\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl exec -it <POD_NAME> -- /bin/bash\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7372\u53d6\u5bb9\u5668\u5167\u90e8\u7684 Shell\uff0c\u7528\u65bc\u8abf\u8a66\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u6aa2\u67e5\u8cc7\u6e90\u4e8b\u4ef6\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get events\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b\u53e2\u96c6\u4e2d\u7684\u6700\u65b0\u4e8b\u4ef6\uff0c\u5982\u932f\u8aa4\u6216\u8b66\u544a\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u6e2c\u8a66\u670d\u52d9\u9023\u7dda\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl run curlpod --image=radial/busyboxplus:curl -i --tty\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u6e2c\u8a66 Pod \u5617\u8a66\u8207\u670d\u52d9\u9023\u63a5\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u522a\u9664\u8cc7\u6e90",children:"\u522a\u9664\u8cc7\u6e90"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u522a\u9664 Pod\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete pod <POD_NAME>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u522a\u9664 Deployment\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete deployment <DEPLOYMENT_NAME>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u522a\u9664\u6307\u5b9a\u6a19\u7c64\u7684\u8cc7\u6e90\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete pods -l app=<APP_LABEL>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u522a\u9664\u547d\u540d\u7a7a\u9593\u4e0b\u7684\u6240\u6709\u8cc7\u6e90\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete namespace <NAMESPACE>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u8cc7\u6e90\u72c0\u614b\u8207\u76e3\u63a7",children:"\u8cc7\u6e90\u72c0\u614b\u8207\u76e3\u63a7"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u76e3\u63a7 Pod \u72c0\u614b\u8b8a\u5316\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -w\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6301\u7e8c\u8ffd\u8e64\u8cc7\u6e90\u72c0\u614b\u8b8a\u5316\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u67e5\u770b\u8cc7\u6e90\u4f7f\u7528\u91cf\uff08\u9700\u555f\u7528 Metrics Server\uff09\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl top pods\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u986f\u793a Pod \u7684 CPU \u8207\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u6aa2\u67e5\u7bc0\u9ede\u7684\u8cc7\u6e90\u4f7f\u7528\u72c0\u614b\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl top nodes\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u6aa2\u67e5 Pod \u7684\u914d\u7f6e\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl describe pod <POD_NAME>\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u986f\u793a Pod \u7684\u8a73\u7d30\u914d\u7f6e\u4fe1\u606f\uff0c\u4f8b\u5982\u74b0\u5883\u8b8a\u91cf\u548c\u7aef\u53e3\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u532f\u51fa\u8207\u532f\u5165\u914d\u7f6e",children:"\u532f\u51fa\u8207\u532f\u5165\u914d\u7f6e"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u532f\u51fa\u8cc7\u6e90\u914d\u7f6e\u70ba YAML\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pod <POD_NAME> -o yaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u532f\u51fa Pod \u7684\u5b8c\u6574 YAML \u5b9a\u7fa9\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u532f\u51fa\u6e05\u55ae\u800c\u4e0d\u5305\u542b\u72c0\u614b\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pod <POD_NAME> -o yaml --export\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u4f7f\u7528 YAML \u6587\u4ef6\u91cd\u65b0\u5275\u5efa\u8cc7\u6e90\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f resource.yaml\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\u547d\u540d\u7a7a\u9593\u76f8\u95dc",children:"\u547d\u540d\u7a7a\u9593\u76f8\u95dc"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5275\u5efa\u547d\u540d\u7a7a\u9593\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl create namespace <NAMESPACE>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5207\u63db\u547d\u540d\u7a7a\u9593\uff08\u8a2d\u5b9a\u9810\u8a2d\u503c\uff09\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl config set-context --current --namespace=<NAMESPACE>\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5217\u51fa\u6240\u6709\u547d\u540d\u7a7a\u9593\uff1a"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get namespaces\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u6307\u4ee4\u8a73\u7d30\u4ecb\u7d39",children:"\u6307\u4ee4\u8a73\u7d30\u4ecb\u7d39"}),"\n",(0,s.jsxs)(n.h3,{id:"1-kubectl-apply",children:["1. ",(0,s.jsx)(n.code,{children:"kubectl apply"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u5c07 YAML \u6216 JSON \u683c\u5f0f\u7684\u8cc7\u6e90\u914d\u7f6e\u6a94\u6848\u61c9\u7528\u5230 Kubernetes \u53e2\u96c6\u4e2d\uff0c\u7528\u65bc\u5275\u5efa\u6216\u66f4\u65b0\u8cc7\u6e90\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f <FILENAME> [--namespace=<NAMESPACE>] [--record]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u53c3\u6578\u8aaa\u660e",children:"\u53c3\u6578\u8aaa\u660e\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-f <FILENAME>"}),"\uff1a\u6307\u5b9a\u914d\u7f6e\u6a94\u6848\uff0c\u53ef\u4ee5\u662f\u55ae\u500b\u6a94\u6848\u6216\u76ee\u9304\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--namespace=<NAMESPACE>"}),"\uff1a\u6307\u5b9a\u547d\u540d\u7a7a\u9593\uff0c\u82e5\u672a\u6307\u5b9a\u5247\u9ed8\u8a8d\u70ba ",(0,s.jsx)(n.code,{children:"default"}),"\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--record"}),"\uff1a\u8a18\u9304\u6307\u4ee4\u5167\u5bb9\uff0c\u65b9\u4fbf\u8ffd\u8e64\u8b8a\u66f4\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5c07\u55ae\u500b\u6a94\u6848\u61c9\u7528\u5230\u53e2\u96c6\u4e2d\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f deployment.yaml\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6279\u91cf\u61c9\u7528\u76ee\u9304\u5167\u7684\u6240\u6709\u6a94\u6848\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f ./manifests/\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6307\u5b9a\u547d\u540d\u7a7a\u9593\u57f7\u884c\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f service.yaml --namespace=testing\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"2-kubectl-describe",children:["2. ",(0,s.jsx)(n.code,{children:"kubectl describe"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-1",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u986f\u793a\u8cc7\u6e90\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u5305\u62ec\u7576\u524d\u72c0\u614b\u3001\u4e8b\u4ef6\u3001\u932f\u8aa4\u548c\u914d\u7f6e\u5167\u5bb9\uff0c\u5e6b\u52a9\u6392\u9664\u554f\u984c\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-1",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl describe <RESOURCE_TYPE> <NAME> [--namespace=<NAMESPACE>]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u53c3\u6578\u8aaa\u660e-1",children:"\u53c3\u6578\u8aaa\u660e\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<RESOURCE_TYPE>"}),"\uff1a\u8cc7\u6e90\u985e\u578b\uff08\u5982 ",(0,s.jsx)(n.code,{children:"pod"}),"\u3001",(0,s.jsx)(n.code,{children:"deployment"})," \u7b49\uff09\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<NAME>"}),"\uff1a\u8cc7\u6e90\u540d\u7a31\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--namespace=<NAMESPACE>"}),"\uff1a\u6307\u5b9a\u547d\u540d\u7a7a\u9593\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-1",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u67e5\u770b\u6307\u5b9a Pod \u7684\u8a73\u7d30\u8cc7\u8a0a\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl describe pod my-pod\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u67e5\u770b\u67d0\u500b Deployment \u7684\u8a73\u7d30\u8cc7\u8a0a\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl describe deployment my-deployment\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u67e5\u770b\u7279\u5b9a\u547d\u540d\u7a7a\u9593\u5167\u7684 Service\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl describe service my-service --namespace=production\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"3-kubectl-get",children:["3. ",(0,s.jsx)(n.code,{children:"kubectl get"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-2",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u5217\u51fa\u6307\u5b9a\u8cc7\u6e90\u53ca\u5176\u57fa\u672c\u8cc7\u8a0a\uff0c\u53ef\u7528\u65bc\u5feb\u901f\u6aa2\u8996\u53e2\u96c6\u72c0\u614b\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-2",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get <RESOURCE_TYPE> [<NAME>] [OPTIONS]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u53c3\u6578\u8aaa\u660e-2",children:"\u53c3\u6578\u8aaa\u660e\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<RESOURCE_TYPE>"}),"\uff1a\u8cc7\u6e90\u985e\u578b\uff08\u5982 ",(0,s.jsx)(n.code,{children:"pods"}),"\u3001",(0,s.jsx)(n.code,{children:"services"}),"\u3001",(0,s.jsx)(n.code,{children:"nodes"})," \u7b49\uff09\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<NAME>"}),"\uff1a\u53ef\u9078\uff0c\u6307\u5b9a\u8cc7\u6e90\u540d\u7a31\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-o"}),"\uff1a\u8f38\u51fa\u683c\u5f0f\uff08\u5982 ",(0,s.jsx)(n.code,{children:"json"}),"\u3001",(0,s.jsx)(n.code,{children:"yaml"}),"\u3001",(0,s.jsx)(n.code,{children:"wide"}),"\uff09\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-w"}),"\uff1a\u6301\u7e8c\u76e3\u63a7\u8cc7\u6e90\u72c0\u614b\u66f4\u65b0\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-2",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5217\u51fa\u6240\u6709 Pod\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u67e5\u770b\u8a73\u7d30\u8f38\u51fa\uff08\u5305\u62ec\u7bc0\u9ede\u540d\u7a31\u548c\u5bb9\u5668\u72c0\u614b\uff09\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -o wide\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u5be6\u6642\u76e3\u63a7\u8cc7\u6e90\u8b8a\u5316\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -w\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"4-kubectl-create",children:["4. ",(0,s.jsx)(n.code,{children:"kubectl create"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-3",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u7528\u65bc\u5275\u5efa\u65b0\u7684 Kubernetes \u8cc7\u6e90\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-3",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl create <RESOURCE_TYPE> <NAME> [OPTIONS]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u53c3\u6578\u8aaa\u660e-3",children:"\u53c3\u6578\u8aaa\u660e\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<RESOURCE_TYPE>"}),"\uff1a\u8cc7\u6e90\u985e\u578b\uff08\u5982 ",(0,s.jsx)(n.code,{children:"namespace"}),"\u3001",(0,s.jsx)(n.code,{children:"configmap"})," \u7b49\uff09\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<NAME>"}),"\uff1a\u8cc7\u6e90\u540d\u7a31\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--from-literal"}),"\uff1a\u76f4\u63a5\u5f9e\u547d\u4ee4\u884c\u5275\u5efa\u8cc7\u6e90\u6578\u64da\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--from-file"}),"\uff1a\u5f9e\u6587\u4ef6\u4e2d\u52a0\u8f09\u6578\u64da\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-3",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5275\u5efa\u65b0\u7684\u547d\u540d\u7a7a\u9593\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl create namespace my-namespace\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u5275\u5efa ConfigMap \u4e26\u6dfb\u52a0\u9375\u503c\u5c0d\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl create configmap my-config --from-literal=key1=value1\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"5-kubectl-delete",children:["5. ",(0,s.jsx)(n.code,{children:"kubectl delete"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-4",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u522a\u9664 Kubernetes \u8cc7\u6e90\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-4",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete <RESOURCE_TYPE> <NAME> [--namespace=<NAMESPACE>]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-4",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u522a\u9664\u6307\u5b9a Pod\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete pod my-pod\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u522a\u9664\u6240\u6709 Deployment\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete deployments --all\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"6-kubectl-run",children:["6. ",(0,s.jsx)(n.code,{children:"kubectl run"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-5",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u5feb\u901f\u5275\u5efa\u55ae\u500b Pod \u6216 Deployment\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-5",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl run <NAME> --image=<IMAGE> [OPTIONS]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-5",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u4f7f\u7528 Nginx \u6620\u50cf\u5275\u5efa Pod\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl run nginx --image=nginx\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"7-kubectl-expose",children:["7. ",(0,s.jsx)(n.code,{children:"kubectl expose"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-6",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u70ba\u8cc7\u6e90\u5275\u5efa\u5c0d\u5916\u66b4\u9732\u7684 Service\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-6",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl expose <RESOURCE_TYPE> <NAME> --port=<PORT> --target-port=<TARGET_PORT>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-6",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5c07 Pod \u66b4\u9732\u70ba ClusterIP \u985e\u578b\u7684\u670d\u52d9\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl expose pod my-pod --port=80 --target-port=8080\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"8-kubectl-set",children:["8. ",(0,s.jsx)(n.code,{children:"kubectl set"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-7",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u66f4\u65b0\u8cc7\u6e90\u7684\u5c6c\u6027\uff0c\u4f8b\u5982\u6620\u50cf\u3001\u74b0\u5883\u8b8a\u6578\u7b49\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-7",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl set <SUBCOMMAND> [OPTIONS]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-7",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u66f4\u65b0 Deployment \u6620\u50cf\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl set image deployment/my-deployment my-container=my-image:v2\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"9-kubectl-exec",children:["9. ",(0,s.jsx)(n.code,{children:"kubectl exec"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-8",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u5728 Pod \u4e2d\u57f7\u884c\u547d\u4ee4\u6216\u6253\u958b Shell\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-8",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl exec -it <POD_NAME> -- <COMMAND>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-8",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u9032\u5165 Pod \u7684\u4ea4\u4e92\u5f0f Shell\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl exec -it my-pod -- /bin/bash\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"10-kubectl-logs",children:["10. ",(0,s.jsx)(n.code,{children:"kubectl logs"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-9",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u6aa2\u8996 Pod \u4e2d\u5bb9\u5668\u7684\u65e5\u8a8c\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-9",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs [OPTIONS] <POD_NAME>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-9",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u67e5\u770b\u7279\u5b9a Pod \u7684\u65e5\u8a8c\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs my-pod\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u8ffd\u8e64\u5be6\u6642\u65e5\u8a8c\u8f38\u51fa\uff1a","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs -f my-pod\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u9032\u968e\u6307\u4ee4\u4ecb\u7d39",children:"\u9032\u968e\u6307\u4ee4\u4ecb\u7d39"}),"\n",(0,s.jsxs)(n.h3,{id:"1-kubectl-config",children:["1. ",(0,s.jsx)(n.code,{children:"kubectl config"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-10",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u7ba1\u7406 Kubernetes \u7684 kubeconfig \u6587\u4ef6\uff0c\u7528\u65bc\u8a2d\u5b9a\u548c\u64cd\u4f5c\u4e0a\u4e0b\u6587\u3001\u53e2\u96c6\u548c\u7528\u6236\u6191\u64da\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-10",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u5207\u63db\u4e0a\u4e0b\u6587"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl config use-context <CONTEXT_NAME>\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u5217\u51fa\u7576\u524d\u4e0a\u4e0b\u6587"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl config current-context\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u67e5\u770b\u6240\u6709\u4e0a\u4e0b\u6587"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl config get-contexts\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"\u8a2d\u5b9a\u9810\u8a2d\u547d\u540d\u7a7a\u9593"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl config set-context --current --namespace=<NAMESPACE>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"2-kubectl-patch",children:["2. ",(0,s.jsx)(n.code,{children:"kubectl patch"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-11",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528 JSON \u6216 YAML \u683c\u5f0f\u66f4\u65b0\u8cc7\u6e90\uff0c\u800c\u7121\u9700\u91cd\u65b0\u5b9a\u7fa9\u5b8c\u6574\u7684\u914d\u7f6e\u6a94\u6848\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-10",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl patch <RESOURCE_TYPE> <RESOURCE_NAME> --patch '<PATCH_CONTENT>'\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-11",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"JSON \u683c\u5f0f\u66f4\u65b0"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'kubectl patch deployment my-deployment \\\n  --patch \'{"spec": {"template": {"spec": {"containers": [{"name": "my-container", "image": "new-image:v2"}]}}}}\'\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"YAML \u683c\u5f0f\u66f4\u65b0"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'kubectl patch service my-service \\\n  --patch "$(cat <<EOF\nspec:\n  type: NodePort\nEOF\n)"\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"--type"})," \u6307\u5b9a\u66f4\u65b0\u65b9\u5f0f"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"strategic"}),"\uff08\u9ed8\u8a8d\uff09\uff1a\u57fa\u65bc\u8cc7\u6e90\u985e\u578b\u7684\u7d50\u69cb\u5316\u5408\u4f75\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"json"}),"\uff1a\u57fa\u65bc JSON \u5408\u4f75\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"merge"}),"\uff1a\u57fa\u65bc JSON \u5408\u4f75\u7684\u4f75\u96c6\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'kubectl patch deployment my-deployment --type=merge --patch \'{"spec": {"replicas": 5}}\'\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"3-kubectl-debug",children:["3. ",(0,s.jsx)(n.code,{children:"kubectl debug"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-12",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u7528\u65bc\u8abf\u8a66 Pod \u6216\u5275\u5efa\u8abf\u8a66\u5bb9\u5668\uff0c\u5e6b\u52a9\u6392\u67e5\u554f\u984c\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-11",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl debug <POD_NAME> [OPTIONS]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-12",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u8abf\u8a66\u5bb9\u5668\u5167\u57f7\u884c\u547d\u4ee4"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl debug pod/my-pod -it --image=busybox --target=app-container\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u91cd\u555f Pod \u4e26\u52a0\u4e0a\u8abf\u8a66\u9078\u9805"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl debug node/<NODE_NAME> --image=busybox\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u6dfb\u52a0\u8abf\u8a66\u4ee3\u7406"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl debug pod/my-pod --image=busybox --share-processes\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"4-kubectl-logs---since",children:["4. ",(0,s.jsx)(n.code,{children:"kubectl logs --since"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-13",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u67e5\u770b Pod \u5bb9\u5668\u7684\u65e5\u8a8c\uff0c\u4e26\u53ea\u986f\u793a\u81ea\u6307\u5b9a\u6642\u9593\u4ee5\u4f86\u7684\u65e5\u8a8c\u5167\u5bb9\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-12",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs <POD_NAME> [OPTIONS]\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-13",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u67e5\u770b\u6700\u8fd1 1 \u5c0f\u6642\u7684\u65e5\u8a8c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs my-pod --since=1h\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u67e5\u770b\u6700\u8fd1 5 \u5206\u9418\u7684\u65e5\u8a8c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs my-pod --since=5m\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u5be6\u6642\u8ffd\u8e64\u4e26\u9650\u5236\u6700\u8fd1 30 \u5206\u9418\u7684\u65e5\u8a8c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl logs -f my-pod --since=30m\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"5-kubectl-port-forward",children:["5. ",(0,s.jsx)(n.code,{children:"kubectl port-forward"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-14",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u5c07\u672c\u5730\u7aef\u53e3\u6620\u5c04\u5230 Kubernetes \u53e2\u96c6\u4e2d\u7684 Pod \u6216\u670d\u52d9\uff0c\u7528\u65bc\u6e2c\u8a66\u6216\u8a2a\u554f\u5167\u90e8\u61c9\u7528\u7a0b\u5f0f\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-13",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward <RESOURCE_TYPE>/<RESOURCE_NAME> <LOCAL_PORT>:<REMOTE_PORT>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-14",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u5c0d Pod \u9032\u884c\u7aef\u53e3\u8f49\u767c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward pod/my-pod 8080:80\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u5c0d Service \u9032\u884c\u7aef\u53e3\u8f49\u767c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward service/my-service 3000:5000\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"6--ojsonpath",children:["6. ",(0,s.jsx)(n.code,{children:"-o=jsonpath"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-15",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u7528\u65bc\u904e\u6ffe\u8cc7\u6e90\u8f38\u51fa\u7684\u5167\u5bb9\uff0c\u50c5\u986f\u793a\u7279\u5b9a\u5b57\u6bb5\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-14",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get <RESOURCE_TYPE> -o jsonpath='<JSONPATH_EXPRESSION>'\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-15",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u7372\u53d6 Pod \u540d\u7a31"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -o jsonpath='{.items[*].metadata.name}'\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u7372\u53d6\u6307\u5b9a\u8cc7\u6e90\u7684 IP"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pod my-pod -o jsonpath='{.status.podIP}'\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u7372\u53d6\u6240\u6709\u5bb9\u5668\u7684\u540d\u7a31"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -o jsonpath='{.items[*].spec.containers[*].name}'\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"7-label-\u9078\u64c7\u5668",children:["7. ",(0,s.jsx)(n.code,{children:"Label \u9078\u64c7\u5668"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-16",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u6a19\u7c64\u4f86\u9078\u64c7\u8cc7\u6e90\uff0c\u7528\u65bc\u904e\u6ffe\u3001\u66f4\u65b0\u6216\u522a\u9664\u8cc7\u6e90\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-15",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get <RESOURCE_TYPE> --selector <KEY>=<VALUE>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-16",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u7be9\u9078\u6307\u5b9a\u6a19\u7c64\u7684\u8cc7\u6e90"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl get pods --selector app=nginx\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u66f4\u65b0\u6a19\u7c64"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl label deployment my-deployment env=production\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u522a\u9664\u6a19\u7c64"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl label pod my-pod env-\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"8-kubectl-apply---prune",children:["8. ",(0,s.jsx)(n.code,{children:"kubectl apply --prune"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-17",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u914d\u7f6e\u6a94\u6848\u540c\u6b65\u8cc7\u6e90\uff0c\u540c\u6642\u522a\u9664\u672a\u5728\u914d\u7f6e\u4e2d\u7684\u591a\u9918\u8cc7\u6e90\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u8a9e\u6cd5-16",children:"\u8a9e\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f <FILENAME> --prune -l <LABEL_SELECTOR>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-17",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u6839\u64da\u6a19\u7c64\u9032\u884c\u540c\u6b65"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f deployment.yaml --prune -l app=nginx\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u5728\u547d\u540d\u7a7a\u9593\u4e2d\u61c9\u7528\u540c\u6b65"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f ./manifests --prune -l env=production --namespace=staging\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"9---dry-run",children:["9. ",(0,s.jsx)(n.code,{children:"--dry-run"})]}),"\n",(0,s.jsx)(n.h4,{id:"\u529f\u80fd-18",children:"\u529f\u80fd\uff1a"}),"\n",(0,s.jsxs)(n.p,{children:["\u6a21\u64ec\u57f7\u884c ",(0,s.jsx)(n.code,{children:"kubectl"})," \u6307\u4ee4\uff0c\u800c\u4e0d\u5be6\u969b\u4fee\u6539\u4efb\u4f55\u8cc7\u6e90\uff0c\u9069\u7528\u65bc\u6e2c\u8a66\u914d\u7f6e\u548c\u6307\u4ee4\u57f7\u884c\u7d50\u679c\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"\u985e\u578b",children:"\u985e\u578b\uff1a"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"--dry-run"})," \u6709\u5169\u7a2e\u4e3b\u8981\u6a21\u5f0f\uff1a"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"client"})}),"\uff08\u9ed8\u8a8d\uff09\uff1a\u50c5\u5728\u672c\u5730\u6aa2\u67e5\u914d\u7f6e\uff0c\u6a21\u64ec\u57f7\u884c\u6307\u4ee4\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"server"})}),"\uff1a\u767c\u9001\u8acb\u6c42\u5230 API Server\uff0c\u9032\u884c\u5b8c\u6574\u9a57\u8b49\u4f46\u4e0d\u57f7\u884c\u4efb\u4f55\u4fee\u6539\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"\u7bc4\u4f8b-18",children:"\u7bc4\u4f8b\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u6e2c\u8a66\u5275\u5efa\u8cc7\u6e90"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl create -f pod.yaml --dry-run=client\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u6e2c\u8a66\u66f4\u65b0\u8cc7\u6e90"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f deployment.yaml --dry-run=server\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u7d50\u5408\u8f38\u51fa\u683c\u5f0f\u6aa2\u67e5"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl create deployment my-deployment --image=nginx --dry-run=client -o yaml\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"\u6e2c\u8a66\u522a\u9664\u8cc7\u6e90"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete pod my-pod --dry-run=client\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"\u6e2c\u8a66\u6efe\u52d5\u66f4\u65b0"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl set image deployment/my-deployment my-container=nginx:latest --dry-run=server\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u66f4\u591a\u7d30\u7bc0",children:"\u66f4\u591a\u7d30\u7bc0"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u5e0c\u671b\u66f4\u591a\u7d30\u7bc0\uff0c\u53ef\u4ee5\u4f7f\u7528 help \u6307\u4ee4\uff0c\u4ed6\u6703\u5217\u51fa\u66f4\u591a\u8a73\u7d30\u7684\u8cc7\u8a0a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl.exe help\n"})})]})}function j(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},28453:(e,n,l)=>{l.d(n,{R:()=>i,x:()=>r});var s=l(96540);const c={},d=s.createContext(c);function i(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);