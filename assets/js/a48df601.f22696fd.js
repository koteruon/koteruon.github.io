"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[5441],{2665:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/\u5efa\u7acb\u8005\u548c\u7522\u54c1\u8996\u70ba\u5e73\u884c-7f608a2eec9c173a43376fe61fe390c3.png"},5940:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>z,contentTitle:()=>s,default:()=>d,frontMatter:()=>l,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"notes/design-patterns/Factory-Method-Pattern","title":"Factory Method Pattern","description":"\u5de5\u5ee0\u6a21\u5f0f\u662f\u4e00\u7a2e\u5275\u5efa\u578b\u8a2d\u8a08\u6a21\u5f0f\uff0c\u5728\u7236\u985e\u63d0\u4f9b\u4e00\u500b\u5275\u5efa\u5c0d\u8c61\u7684\u65b9\u6cd5\uff0c\u5141\u8a31\u5b50\u985e\u6c7a\u5b9a\u5be6\u4f8b\u5316\u5c0d\u8c61\u7684\u985e\u578b","source":"@site/docs/notes/design-patterns/01-Factory-Method-Pattern.md","sourceDirName":"notes/design-patterns","slug":"/notes/design-patterns/Factory-Method-Pattern","permalink":"/docs/notes/design-patterns/Factory-Method-Pattern","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"notesSidebar","previous":{"title":"Outline","permalink":"/docs/notes/design-pattern"},"next":{"title":"Abstract Factory Pattern","permalink":"/docs/notes/design-patterns/Abstract-Factory-Pattern"}}');var r=i(74848),t=i(28453);const l={},s="Factory Method Pattern",z={},c=[{value:"\u5de5\u5ee0\u6a21\u5f0f\u7d50\u69cb",id:"\u5de5\u5ee0\u6a21\u5f0f\u7d50\u69cb",level:3},{value:"\u5de5\u5ee0\u6a21\u5f0f\u7684\u61c9\u7528\u5834\u666f",id:"\u5de5\u5ee0\u6a21\u5f0f\u7684\u61c9\u7528\u5834\u666f",level:3},{value:"\u512a\u7f3a\u9ede",id:"\u512a\u7f3a\u9ede",level:3},{value:"\u7c21\u55ae\u5de5\u5ee0(Simple Factory)",id:"\u7c21\u55ae\u5de5\u5ee0simple-factory",level:2},{value:"\u539f\u59cb\u7684\u6a21\u578b\u67b6\u69cb",id:"\u539f\u59cb\u7684\u6a21\u578b\u67b6\u69cb",level:3},{value:"\u9047\u5230\u7684\u9700\u6c42\u8207\u554f\u984c",id:"\u9047\u5230\u7684\u9700\u6c42\u8207\u554f\u984c",level:3},{value:"\u5efa\u69cb\u7c21\u55ae\u5de5\u5ee0(\u5c01\u88dd\u7269\u4ef6\u7684\u5efa\u7acb)",id:"\u5efa\u69cb\u7c21\u55ae\u5de5\u5ee0\u5c01\u88dd\u7269\u4ef6\u7684\u5efa\u7acb",level:3},{value:"\u6c92\u6709\u8822\u554f\u984c",id:"\u6c92\u6709\u8822\u554f\u984c",level:3},{value:"\u5b9a\u7fa9\u7c21\u55ae\u5de5\u5ee0",id:"\u5b9a\u7fa9\u7c21\u55ae\u5de5\u5ee0",level:3},{value:"\u5de5\u5ee0\u65b9\u6cd5(Factory Method)",id:"\u5de5\u5ee0\u65b9\u6cd5factory-method",level:2},{value:"\u70ba pizza \u5e97\u8a2d\u8a08\u6846\u67b6\u3001\u8b93\u5b50\u985e\u505a\u6c7a\u5b9a",id:"\u70ba-pizza-\u5e97\u8a2d\u8a08\u6846\u67b6\u8b93\u5b50\u985e\u505a\u6c7a\u5b9a",level:3},{value:"\u5b9a\u7fa9\u5de5\u5ee0\u6a21\u5f0f",id:"\u5b9a\u7fa9\u5de5\u5ee0\u6a21\u5f0f",level:3},{value:"\u6c92\u6709\u8822\u554f\u984c",id:"\u6c92\u6709\u8822\u554f\u984c-1",level:3},{value:"\u4f9d\u8cf4\u53cd\u8f49\u539f\u5247(Dependency Inversion Principle)",id:"\u4f9d\u8cf4\u53cd\u8f49\u539f\u5247dependency-inversion-principle",level:2},{value:"\u7b2c\u4e00\u7248\u7684 PizzaStore",id:"\u7b2c\u4e00\u7248\u7684-pizzastore",level:3},{value:"\u4f7f\u7528\u5de5\u5ee0\u6a21\u5f0f\u5f8c\u7684 PizzaStore",id:"\u4f7f\u7528\u5de5\u5ee0\u6a21\u5f0f\u5f8c\u7684-pizzastore",level:3},{value:"\u4ee5\u4e0b\u65b9\u91dd\u53ef\u4ee5\u907f\u514d\u8a2d\u8a08\u9055\u53cd\u4f9d\u8cf4\u53cd\u8f49\u539f\u5247",id:"\u4ee5\u4e0b\u65b9\u91dd\u53ef\u4ee5\u907f\u514d\u8a2d\u8a08\u9055\u53cd\u4f9d\u8cf4\u53cd\u8f49\u539f\u5247",level:3},{value:"\u5de5\u5ee0\u65b9\u6cd5\u7684\u4f8b\u5b50",id:"\u5de5\u5ee0\u65b9\u6cd5\u7684\u4f8b\u5b50",level:2},{value:"JDK \u7684 java.util.Collection#iterator",id:"jdk-\u7684-javautilcollectioniterator",level:3},{value:"Lambda \u548c Enum \u7684\u5beb\u6cd5",id:"lambda-\u548c-enum-\u7684\u5beb\u6cd5",level:2},{value:"\u53ea\u6709 Lambda",id:"\u53ea\u6709-lambda",level:3},{value:"Lambda + Enum",id:"lambda--enum",level:3}];function o(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"factory-method-pattern",children:"Factory Method Pattern"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5de5\u5ee0\u6a21\u5f0f"}),"\u662f\u4e00\u7a2e\u5275\u5efa\u578b\u8a2d\u8a08\u6a21\u5f0f\uff0c\u5728\u7236\u985e\u63d0\u4f9b\u4e00\u500b\u5275\u5efa\u5c0d\u8c61\u7684\u65b9\u6cd5\uff0c\u5141\u8a31\u5b50\u985e\u6c7a\u5b9a\u5be6\u4f8b\u5316\u5c0d\u8c61\u7684\u985e\u578b"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5de5\u5ee0\u6a21\u5f0f\u7d50\u69cb",children:"\u5de5\u5ee0\u6a21\u5f0f\u7d50\u69cb"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"\u5de5\u5ee0\u6a21\u5f0f\u7d50\u69cb",src:i(82731).A+"",width:"2751",height:"1203"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5de5\u5ee0\u6a21\u5f0f\u7684\u61c9\u7528\u5834\u666f",children:"\u5de5\u5ee0\u6a21\u5f0f\u7684\u61c9\u7528\u5834\u666f"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5728\u5beb\u7a0b\u5f0f\u6642\uff0c\u5982\u679c\u7121\u6cd5\u9810\u77e5\u5c0d\u8c61\u78ba\u5207\u985e\u5225\u4ee5\u53ca\u4ed6\u7684\u4f9d\u8cf4\u95dc\u4fc2\u6642"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u5de5\u5ee0\u65b9\u6cd5\u6703\u5c07\u5275\u5efa\u7522\u54c1\u7684\u7a0b\u5f0f\u78bc\u548c\u5be6\u969b\u4f7f\u7528\u7522\u54c1\u7684\u7a0b\u5f0f\u78bc\u5206\u96e2\uff0c\u80fd\u5728\u4e0d\u5f71\u97ff\u5176\u4ed6\u7a0b\u5f0f\u78bc\u7684\u60c5\u6cc1\u4e0b\u64f4\u5c55\u7522\u54c1\u5275\u5efa\u90e8\u5206\u7a0b\u5f0f\u78bc"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5982\u679c\u5e0c\u671b\u7528\u6236\u80fd\u5920\u64f4\u5c55\u4f60\u7684 library \u6216 framework \u7684\u5167\u90e8\u7d44\u4ef6"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u5c07\u6846\u67b6\u4e2d\u69cb\u9020\u7d44\u4ef6\u7684\u7a0b\u5f0f\u78bc\u96c6\u4e2d\u5230\u4e00\u500b\u5de5\u5ee0\u65b9\u6cd5\u4e2d\uff0c\u4e26\u5728\u7e7c\u627f\u7d44\u4ef6\u4e4b\u5916\u5141\u8a31\u4efb\u4f55\u4eba\u5c0d\u8a72\u65b9\u6cd5\u9032\u884c\u91cd\u5beb"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\u5982\u679c\u5e0c\u671b\u5fa9\u7528\u73fe\u6709\u5c0d\u8c61\u4f86\u7bc0\u7701\u7cfb\u7d71\u8cc7\u6e90\uff0c\u800c\u4e0d\u662f\u6bcf\u6b21\u90fd\u91cd\u65b0\u5275\u5efa\u5c0d\u8c61"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u9996\u5148\uff0c\u9700\u8981\u5275\u5efa\u5132\u5b58\u7a7a\u9593\u4f86\u5b58\u653e\u6240\u6709\u5df2\u5275\u5efa\u7684\u5c0d\u8c61"}),"\n",(0,r.jsx)(n.li,{children:"\u7576\u5176\u4ed6\u4eba\u8acb\u6c42\u4e00\u500b\u5c0d\u8c61\u6642\uff0c\u7a0b\u5f0f\u5728\u5c0d\u8c61\u6c60\u4e2d\u641c\u5c0b\u53ef\u4ee5\u7528\u7684\u5c0d\u8c61"}),"\n",(0,r.jsx)(n.li,{children:"\u7136\u5f8c\u5c07\u4ed6\u8fd4\u56de\u7d66\u5ba2\u6236\u7aef\u7a0b\u5f0f"}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u679c\u6c92\u6709\u53ef\u7528\u7684\u5c0d\u8c61\uff0c\u7a0b\u5f0f\u5247\u5275\u5efa\u4e00\u500b\u65b0\u5c0d\u8c61(\u5c07\u4ed6\u6dfb\u52a0\u5230\u5c0d\u5411\u6c60\u4e2d)","\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u56e0\u6b64\uff0c\u9700\u8981\u6709\u4e00\u500b\u65e2\u80fd\u5920\u5275\u5efa\u65b0\u5c0d\u8c61\uff0c\u53c8\u53ef\u4ee5\u5fa9\u7528\u73fe\u6709\u5c0d\u8c61\u7684\u65b9\u6cd5\uff0c\u548c\u5de5\u5ee0\u65b9\u6cd5\u975e\u5e38\u76f8\u50cf"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u512a\u7f3a\u9ede",children:"\u512a\u7f3a\u9ede"}),"\n",(0,r.jsxs)(n.p,{children:["\u2b55",(0,r.jsx)(n.strong,{children:"\u512a\u9ede"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u53ef\u4ee5\u907f\u514d\u5275\u5efa\u8005\u548c\u5177\u9ad4\u7522\u54c1\u4e4b\u9593\u7684\u7dca\u5bc6\u8026\u5408"}),"\n",(0,r.jsx)(n.li,{children:"\u55ae\u4e00\u8077\u8cac\u539f\u5247\u3002\u53ef\u4ee5\u5c07\u7522\u54c1\u5275\u5efa\u7a0b\u5f0f\u78bc\u653e\u5728\u7a0b\u5f0f\u7684\u55ae\u4e00\u500b\u4f4d\u7f6e\uff0c\u4f7f\u5f97\u7a0b\u5f0f\u78bc\u66f4\u5bb9\u6613\u7dad\u8b77"}),"\n",(0,r.jsx)(n.li,{children:"\u958b\u653e\u5c01\u9589\u539f\u5247\u3002\u7121\u9808\u66f4\u6539\u73fe\u6709\u5ba2\u6236\u7a0b\u5f0f\u78bc\uff0c\u5c31\u53ef\u4ee5\u5728\u7a0b\u5f0f\u4e2d\u5f15\u5165\u65b0\u7684\u7522\u54c1\u985e\u578b"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u274c",(0,r.jsx)(n.strong,{children:"\u7f3a\u9ede"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u5de5\u5ee0\u6a21\u5f0f\u9700\u8981\u5f15\u5165\u8a31\u591a\u65b0\u7684\u5b50\u985e\uff0c\u53ef\u80fd\u8b93\u7a0b\u5f0f\u78bc\u8b8a\u5f97\u8907\u96dc\u3002\u6700\u597d\u7684\u60c5\u6cc1\u662f\u5c07\u8a72\u6a21\u5f0f\u5f15\u5165\u5275\u5efa\u8005\u985e\u7684\u73fe\u6709\u5c64\u6b21\u7d50\u69cb\u4e2d(\u7522\u54c1\u985e\u592a\u591a\u6642\uff0c\u70ba\u6bcf\u500b\u7522\u54c1\u5275\u5efa\u5b50\u985e\u4e26\u7121\u592a\u5927\u5fc5\u8981\uff0c\u53ef\u4ee5\u5728\u5b50\u985e\u4e2d\u5fa9\u7528\u57fa\u985e\u4e2d\u7684\u63a7\u5236\u53c3\u6578)"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u7c21\u55ae\u5de5\u5ee0simple-factory",children:"\u7c21\u55ae\u5de5\u5ee0(Simple Factory)"}),"\n",(0,r.jsx)(n.h3,{id:"\u539f\u59cb\u7684\u6a21\u578b\u67b6\u69cb",children:"\u539f\u59cb\u7684\u6a21\u578b\u67b6\u69cb"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u9996\u5148\u4f60\u6709\u4e00\u500b pizza\uff0c\u90fd\u6703\u7d93\u904e prepare\u3001bake\u3001cut\u3001box"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"public class PizzaStore {\n\n    public Pizza orderPizza() {\n        Pizza pizza = new Pizza(); // \u70ba\u4e86\u66f4\u6709\u5f48\u6027\uff0c\u6211\u5011\u60f3\u628a\u5b83\u5beb\u6210\u62bd\u8c61\u985e\u5225\u6216\u4ecb\u9762\uff0c\u907a\u61be\u7684\u662f\uff0c\u62bd\u8c61\u985e\u5225\u6216\u4ecb\u9762\u90fd\u7121\u6cd5\u76f4\u63a5\u5be6\u4f8b\u5316\u3002\n\n        pizza.prepare();\n        pizza.bake();\n        pizza.cut();\n        pizza.box();\n\n        return pizza;\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"\u589e\u52a0\u66f4\u591a\u7a2e\u985e\u7684 pizza\uff0c\u900f\u904e\u50b3\u5165\u53c3\u6578\u6c7a\u5b9a"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public Pizza orderPizza(String type) {\n    Pizza pizza;\n\n    /* \u6839\u64dapizza\u7684\u7a2e\u985e\u4f86\u5be6\u4f8b\u5316\u6b63\u78ba\u7684\u5177\u9ad4\u985e\u5225\uff0c\u4e26\u6307\u6d3e\u7d66pizza\u5be6\u4f8b\u8b8a\u6578 */\n    if (type.equals("cheese")) {\n        pizza = new CheesePizza();\n    } else if (type.equals("greek")) {\n        pizza = new GreekPizza();\n    } else if (type.equals("pepperoni")) {\n        pizza = new PepperoniPizza();\n    }\n\n    /* \u505a\u4e00\u4e9b\u6e96\u5099\u5de5\u4f5c(\u63c9\u9eb5\u5718\u3001\u653e\u4e0a\u91ac\u6599\u548c\u4f50\u6599)\uff0c\u70d8\u70e4\u3001\u5207\u958b\u3001\u653e\u5230\u76d2\u5b50 */\n    /* \u6bcf\u4e00\u7a2epizza\u7684\u5b50\u578b\u614b(CheesePizza\u3001GreekPizza...)\u90fd\u77e5\u9053\u8981\u600e\u9ebc\u6e96\u5099\u4ed6 */\n    pizza.prepare();\n    pizza.bake();\n    pizza.cut();\n    pizza.box();\n\n    return pizza;\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u9047\u5230\u7684\u9700\u6c42\u8207\u554f\u984c",children:"\u9047\u5230\u7684\u9700\u6c42\u8207\u554f\u984c"}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"\u9700\u8981\u589e\u52a0 ClamPizza \u548c VeggiePizza\uff0c\u4e26\u522a\u9664 GreekPizza"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public Pizza orderPizza(String type) {\n    Pizza pizza;\n\n    /* \u9019\u662f\u6703\u8b8a\u5f97\u90e8\u5206\uff0c\u6703\u96a8\u8457pizza\u54c1\u9805\u4e0d\u65b7\u6539\u8b8a\u800c\u53cd\u8986\u4fee\u6539\u9019\u6bb5\u7a0b\u5f0f */\n    if (type.equals("cheese")) {\n        pizza = new CheesePizza();\n    } else if (type.equals("greek")) { // \u8981\u522a\u9664\u7684greekpizza\n        pizza = new GreekPizza();\n    } else if (type.equals("pepperoni")) {\n        pizza = new PepperoniPizza();\n    } else if (type.equals("clam")) { // \u65b0\u589eclampizza\n        pizza = new ClamPizza();\n    } else if (type.equals("veggie")) { // \u65b0\u589eveggiepizza\n        pizza = new VeggiePizza();\n    }\n\n    /* \u9019\u662f\u6211\u5011\u8a8d\u70ba\u4e0d\u8b8a\u7684\u90e8\u5206\uff0c\u56e0\u70ba\u591a\u5e74\u4f86\uff0c\u6e96\u5099\u3001\u70d8\u70e4\u3001\u5305\u88dd\u90fd\u6c92\u6709\u8b8a\u904e\u3002 */\n    pizza.prepare();\n    pizza.bake();\n    pizza.cut();\n    pizza.box();\n\n    return pizza;\n}\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["\u4e0a\u9762\u4e2d\u9593\u7684\u7a0b\u5f0f",(0,r.jsx)(n.strong,{children:"\u4e26\u672a"}),"\u62d2\u7d55\u4fee\u6539\u3002\u6bcf\u6b21 pizza \u6539\u8b8a\u54c1\u9805\uff0c\u6211\u5011\u5c31\u5fc5\u9808\u4fee\u6539\u9019\u6bb5\u7a0b\u5f0f\u78bc\u3002"]})}),"\n",(0,r.jsx)(n.h3,{id:"\u5efa\u69cb\u7c21\u55ae\u5de5\u5ee0\u5c01\u88dd\u7269\u4ef6\u7684\u5efa\u7acb",children:"\u5efa\u69cb\u7c21\u55ae\u5de5\u5ee0(\u5c01\u88dd\u7269\u4ef6\u7684\u5efa\u7acb)"}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"\u5c07\u6703\u8b8a\u5f97\u90e8\u5206\u79fb\u51fa oderpizza()\uff0c\u79fb\u5230\u53e6\u4e00\u500b\u55ae\u7d14\u8ca0\u8cac\u5efa\u7acb pizza \u7684\u7269\u4ef6\u88e1\u9762(SimplePizzaFactory)"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public class SimplePizzaFactory {\n\n    public Pizza createPizza(String type) {\n        Pizza pizza = null;\n\n        if (type.equals("cheese")) {\n            pizza = new CheesePizza();\n        } else if (type.equals("pepperoni")) {\n            pizza = new PepperoniPizza();\n        } else if (type.equals("clam")) {\n            pizza = new ClamPizza();\n        } else if (type.equals("veggie")) {\n            pizza = new VeggiePizza();\n        }\n        return pizza;\n    }\n}\n\n// ----------------------------------------------------------------\n\npublic class PizzaStore {\n    SimplePizzaFactory factory;\n\n    public PizzaStore(SimplePizzaFactory factory) { // \u5728\u5efa\u69cb\u662f\u88e1\u63a5\u6536\u50b3\u4f86\u7684\u5de5\u5ee0\n        this.factory = factory;\n    }\n\n    public Pizza orderPizza(String type) {\n        Pizza pizza;\n\n        pizza = factory.createPizza(type); // \u5c07\u8a02\u55ae\u7684\u7a2e\u985e\u50b3\u7d66\u5de5\u5ee0\uff0c\u7528\u4ed6\u4f86\u5efa\u7acbpizza\uff0c\u9019\u88e1\u4e5f\u6c92\u6709\u5177\u9ad4\u5be6\u4f8b\u5316\u4e86\uff01\n\n        pizza.prepare();\n        pizza.bake();\n        pizza.cut();\n        pizza.box();\n\n        return pizza;\n    }\n\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u6c92\u6709\u8822\u554f\u984c",children:"\u6c92\u6709\u8822\u554f\u984c"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u9019\u6a23\u505a\u6709\u4ec0\u9ebc\u597d\u8655\uff1f\u53ea\u662f\u628a\u554f\u984c\u642c\u5230\u53e6\u4e00\u500b\u7269\u4ef6\u88e1\u9762"})}),"\n",(0,r.jsxs)(n.p,{children:["A: SimplePizzaFactory \u53ef\u80fd\u6709\u8a31\u591a\u7528\u6236\u7aef\uff0c\u672a\u4f86\u53ef\u80fd\u9084\u6709 PizzaShopMenu \u985e\u5225\u6703\u4f7f\u7528\u9019\u500b\u5de5\u5ee0\u4f86\u53d6\u5f97 pizza\uff0c\u7528\u4f86\u986f\u793a pizza \u7684\u8aaa\u660e\u548c\u50f9\u683c\u3002\u4e5f\u53ef\u80fd\u9084\u6709 HomeDelivery \u985e\u5225\u6703\u4f7f\u7528\u9019\u500b\u5de5\u5ee0\u4f86\u53d6\u5f97 pizza\uff0c\u63a1\u53d6\u548c PizzaStore \u4e0d\u4e00\u6a23\u7684\u65b9\u5f0f\u4f86\u8655\u7406 pizza\u3002",(0,r.jsx)(n.strong,{children:"\u6240\u4ee5\u5c07\u5efa\u7acb pizza \u7684\u7a0b\u5f0f\u5c01\u88dd\u6210\u4e00\u500b\u985e\u5225\uff0c\u5728\u8655\u7406\u8b8a\u52d5\u6642\uff0c\u53ea\u9700\u8981\u4fee\u6539\u4e00\u500b\u5730\u65b9\u3002"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u6709\u4e9b\u6703\u5c07\u5de5\u5ee0\u5b9a\u7fa9\u6210\u975c\u614b(static)\u65b9\u6cd5\uff0c\u6709\u4ec0\u9ebc\u4e0d\u540c\uff1f"})}),"\n",(0,r.jsxs)(n.p,{children:["A: \u5c07\u7c21\u55ae\u5de5\u5ee0\u5b9a\u7fa9\u6210\u975c\u614b\u65b9\u6cd5\u5f88\u5e38\u898b\uff0c\u7a31\u4f5c\u975c\u614b\u5de5\u5ee0\uff0c\u5982\u6b64\u4e00\u4f86\u5c31\u4e0d\u9700\u8981\u70ba\u4e86\u4f7f\u7528 create(\u5efa\u7acb)\u65b9\u6cd5\u800c\u9032\u884c\u5de5\u5ee0\u7269\u4ef6\u5be6\u4f8b\u5316\uff0c",(0,r.jsx)(n.strong,{children:"\u4f46\u9019\u500b\u505a\u6cd5\u6709\u4e00\u9805\u7f3a\u9ede\uff0c\u4f60\u7121\u6cd5\u7e7c\u627f\u4e26\u4fee\u6539 create \u65b9\u6cd5\u7684\u884c\u70ba\u3002"})]}),"\n",(0,r.jsx)(n.h3,{id:"\u5b9a\u7fa9\u7c21\u55ae\u5de5\u5ee0",children:"\u5b9a\u7fa9\u7c21\u55ae\u5de5\u5ee0"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u7c21\u55ae\u5de5\u5ee0\u4e0d\u662f\u8a2d\u8a08\u6a21\u5f0f\uff0c\u6bd4\u8f03\u50cf\u7fd2\u6163\u5beb\u6cd5"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"\u7c21\u55ae\u5de5\u5ee0\u4f8b\u5b50",src:i(17930).A+"",width:"2598",height:"1143"})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"\u5be6\u4f5c\u4ecb\u9762"})," ",(0,r.jsx)(n.strong,{children:"\u4e0d\u4e00\u5b9a"}),"\u4ee3\u8868 ",(0,r.jsx)(n.em,{children:"\u5728\u985e\u5225\u5ba3\u544a\u5f0f\u88e1\u9762\u4f7f\u7528 implements \u4f86\u7de8\u5beb\u4e00\u500b\u5be6\u4f5c\u4e86 Java \u4ecb\u9762\u7684\u985e\u5225"})," \u3002\u5ee3\u7fa9\u4f86\u8aaa\uff0c\u8b93\u4e00\u500b\u5177\u9ad4\u7684\u985e\u5225\u5be6\u4f5c\u8d85\u578b\u614b(\u53ef\u80fd\u662f\u62bd\u8c61\u985e\u5225\u6216\u662f\u4ecb\u9762)\u7684\u65b9\u6cd5\uff0c\u4ecd\u7136\u53ef\u4ee5\u8996\u70ba ",(0,r.jsx)(n.em,{children:"\u5be6\u4f5c"})," \u90a3\u500b\u8d85\u578b\u614b\u7684 ",(0,r.jsx)(n.em,{children:"\u4ecb\u9762"}),"\u3002"]})}),"\n",(0,r.jsx)(n.h2,{id:"\u5de5\u5ee0\u65b9\u6cd5factory-method",children:"\u5de5\u5ee0\u65b9\u6cd5(Factory Method)"}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsx)(n.li,{children:"\u5e0c\u671b\u52a0\u76df Pizza \u5e97\uff0c\u56e0\u6b64\u5275\u5efa\u5169\u500b NYPizzaFactory \u548c ChicagoPizzaFactory\uff0c\u88fd\u4f5c\u4e0d\u540c\u98a8\u5473\u7684 pizza\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'NYPizzaFactory nyFactory = new NYPizzaFactory();\nPizzaStore nyStore = new PizzaStore(nyFactory);\nnyStore.orderPizza("Veggie");\n\n// ----------------------------------------------------\n\nChicagoPizzaFactory chicagoFactory = new ChicagoPizzaFactory();\nPizzaStore chicagoStore = new PizzaStore(chicagoFactory);\nchicagoStore.orderPizza("Veggie");\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"\u52a0\u76df\u7684 nyStore \u548c chicagoStore \u958b\u59cb\u63a1\u53d6\u81ea\u5275\u7684\u6d41\u7a0b\uff0c\u56e0\u6b64\u6211\u5011\u9700\u8981\u628a\u8b8a\u5f97\u90e8\u5206\u79fb\u51fa\uff0c\u5229\u7528\u62bd\u8c61\u7269\u4ef6\u4fdd\u7559\u4e0d\u8b8a\u7684\u90e8\u5206(Pizza \u5e97\u548c Pizza \u7684\u88fd\u4f5c\u904e\u7a0b\u7d81\u518d\u4e00\u8d77)\uff0c\u540c\u6642\u4fdd\u6301\u4e00\u4e9b\u5f48\u6027\u7531\u5b50\u985e\u81ea\u5df1\u6c7a\u5b9a"})}),"\n",(0,r.jsx)(n.h3,{id:"\u70ba-pizza-\u5e97\u8a2d\u8a08\u6846\u67b6\u8b93\u5b50\u985e\u505a\u6c7a\u5b9a",children:"\u70ba pizza \u5e97\u8a2d\u8a08\u6846\u67b6\u3001\u8b93\u5b50\u985e\u505a\u6c7a\u5b9a"}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"\u5728 PizzaStore \u985e\u5225\u88e1\uff0c\u5c07\u6240\u6709\u7684 pizza \u88fd\u4f5c\u52d5\u4f5c\u5c40\u90e8\u5316(localize)\uff0c\u540c\u6642\u8b93\u9023\u9396\u5e97\u53ef\u4ee5\u81ea\u7531\u5730\u88fd\u4f5c\u5730\u5340\u98a8\u5473"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"public abstract class PizzaStore { // \u5ba3\u544a\u6210\u62bd\u8c61\u985e\u5225\uff0c\u8b93\u5b50\u985e\u5be6\u4f5c\u5de5\u5ee0\u65b9\u6cd5\n\n    public Pizza orderPizza(String type) {// \u60f3\u8981\u7684\u8a71\uff0c\u53ef\u4ee5\u5c07\u5176\u8a2d\u5b9a\u70bafinal\uff0c\u5f37\u8feb\u5b50\u985e\u4e00\u5b9a\u8981\u4f7f\u7528\u4ed6\n        Pizza pizza;\n\n        pizza = createPizza(type); // \u900f\u904e\u62bd\u8c61\u65b9\u6cd5\uff0c\u53d6\u5f97pizza\uff0c\u4e0d\u518d\u662ffactory\u7269\u4ef6\u7684\u65b9\u6cd5\n\n        /* \u4fdd\u7559\u4e0d\u8b8a\u7684\u5730\u65b9\uff0c\u8b93\u5b50\u985e\u90fd\u80fd\u4fdd\u6301\u4e00\u81f4 */\n        pizza.prepare();\n        pizza.bake();\n        pizza.cut();\n        pizza.box();\n        return pizza;\n    }\n\n    protected abstract Pizza createPizza(String item); // \u73fe\u5728\u300c\u5de5\u5ee0\u65b9\u6cd5\u300d\u662f\u5728PizzaStore\u88e1\u9762\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c\u4e5f\u5f37\u8feb\u6240\u6709\u5b50\u985e\u5fc5\u9808\u5be6\u73fe\u9019\u500b\u65b9\u6cd5\n}\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsx)(n.li,{children:"\u5275\u5efa\u5169\u9593 Pizza \u5e97\uff0cNYPizzaStore \u548c ChicagoStylePizzaStore\uff0c\u4ed6\u5011\u90fd\u7e7c\u627f PizzaStore\uff0c\u5b50\u985e\u5225\u6703\u7528\u81ea\u5df1\u7684 createPizza \u65b9\u6cd5\u88fd\u4f5c\u5730\u5340\u98a8\u5473 pizza"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public class NYPizzaStore extends PizzaStore {// \u7e7c\u627fPizzaStore\uff0c\u6240\u4ee5\u7e7c\u627forderPizza()\u548c\u5176\u4ed6\u65b9\u6cd5\n\n    /* \u5fc5\u9808\u5be6\u4f5ccreatePizza\uff0c\u56e0\u70ba\u4ed6\u662f\u62bd\u8c61\u7684\uff0c\u4e26\u4e14\u6703\u56de\u50b3\u4e00\u500bPizza\uff0c\u5b50\u985e\u5225\u5168\u6b0a\u8ca0\u8cac\u6c7a\u5b9a\u4ed6\u8981\u5be6\u4f8b\u5316\u54ea\u4e00\u7a2e\u5177\u9ad4\u7684Pizza */\n    Pizza createPizza(String item) { // \u70ba\u6bcf\u4e00\u7a2epizza\u88fd\u4f5c\u7d10\u7d04\u98a8\u5473\n        if (item.equals("cheese")) {\n            return new NYStyleCheesePizza();\n        } else if (item.equals("veggie")) {\n            return new NYStyleVeggiePizza();\n        } else if (item.equals("clam")) {\n            return new NYStyleClamPizza();\n        } else if (item.equals("pepperoni")) {\n            return new NYStylePepperoniPizza();\n        } else return null;\n    }\n}\n\n// ----------------------------------------------------------------\n\npublic class ChicagoPizzaStore extends PizzaStore {\n\n    Pizza createPizza(String item) { // \u70ba\u6bcf\u4e00\u7a2epizza\u88fd\u4f5c\u829d\u52a0\u54e5\u98a8\u5473\n        if (item.equals("cheese")) {\n            return new ChicagoStyleCheesePizza();\n        } else if (item.equals("veggie")) {\n            return new ChicagoStyleVeggiePizza();\n        } else if (item.equals("clam")) {\n            return new ChicagoStyleClamPizza();\n        } else if (item.equals("pepperoni")) {\n            return new ChicagoStylePepperoniPizza();\n        } else return null;\n    }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u5b50\u985e\u5982\u4f55\u505a\u6c7a\u5b9a\uff1f"})}),"\n",(0,r.jsxs)(n.p,{children:["A: \u5f9e PizzaStore \u7684 orderPizza \u60f3\uff0c\u5728\u65b9\u6cd5\u88e1\u9762\u7528 Pizza \u7269\u4ef6\u505a\u4e86\u5f88\u591a\u4e8b\uff0c\u4f46 Pizza \u662f\u62bd\u8c61\u7684\uff0c",(0,r.jsx)(n.strong,{children:"\u5177\u9ad4\u578b\u614b\u53ea\u6703\u5728\u5b50\u985e\u5225\u88e1\u9762\u5efa\u7acb"}),"\uff0c\u63db\u53e5\u8a71\u8aaa\uff0c\u4ed6\u5011\u662f",(0,r.jsx)(n.strong,{children:"\u89e3\u8026\u7684"}),"\u3002\u6240\u4ee5\u8981\u770b\u4f60\u5411\u54ea\u4e00\u500b pizza \u5e97\u8a02\u8cfc Pizza\uff0c\u662f NYPizzaStore \u6216 ChicagoPizzaStore\u3002\u6240\u4ee5\u5b50\u985e\u5225\u505a\u51fa\u53ca\u6642\u7684\u6c7a\u5b9a\u55ce\uff1f\u6c92\u6709\uff0c\u4f46\u5f9e orderPizza \u7684\u89d2\u5ea6\uff0c\u6c7a\u5b9a\u505a\u54ea\u4e00\u7a2e Pizza \u7684\u5c31\u662f\u90a3\u500b\u5b50\u985e\u5225\u3002\u6240\u4ee5\u5b50\u985e\u5225\u5176\u5be6\u6c92\u6709\u300c\u505a\u6c7a\u5b9a\u300d\uff0c\u6c7a\u5b9a\u5411\u54ea\u4e00\u9593\u8a02\u9910\u7684\u4eba\u662f\u4f60\uff0c\u4f46\u662f\u4ed6\u5011\u78ba\u5be6\u6c7a\u5b9a\u4e86\u505a\u51fa\u4f86\u7684\u662f\u54ea\u7a2e Pizza\u3002"]}),"\n",(0,r.jsxs)(n.ol,{start:"8",children:["\n",(0,r.jsx)(n.li,{children:"\u88fd\u4f5c Pizza \u4ecb\u9762(\u7522\u54c1)\u548c\u5404\u5f0f\u98a8\u5473\u7684 Pizza(\u5177\u9ad4\u7522\u54c1)"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public abstract class Pizza {\n    String name; // \u540d\u7a31\n    String dough; // \u9905\u76ae\n    String sauce; // \u91ac\u6599\n    ArrayList<String> toppings = new ArrayList<String>(); // \u4e00\u7d44\u914d\u6599\n\n    void prepare() { // \u6e96\u5099\u6d41\u7a0b\u662f\u4e00\u7d44\u7279\u5b9a\u9806\u5e8f\u7684\u6b65\u9a5f\n        System.out.println("Prepare " + name);\n        System.out.println("Tossing dough...");\n        System.out.println("Adding sauce...");\n        System.out.println("Adding toppings: ");\n        for (String topping : toppings) {\n            System.out.println("   " + topping);\n        }\n    }\n\n    /* \u70d8\u70e4\u3001\u5207\u958b\u3001\u5305\u88dd\u7684\u57fa\u672c\u9810\u8a2d\u503c */\n    void bake() {\n        System.out.println("Bake for 25 minutes at 350");\n    }\n\n    void cut() {\n        System.out.println("Cut the pizza into diagonal slices");\n    }\n\n    void box() {\n        System.out.println("Place pizza in official PizzaStore box");\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String toString() {\n        StringBuffer display = new StringBuffer();\n        display.append("---- " + name + " ----\\n");\n        display.append(dough + "\\n");\n        display.append(sauce + "\\n");\n        for (String topping : toppings) {\n            display.append(topping + "\\n");\n        }\n        return display.toString();\n    }\n}\n\n// ----------------------------------------------------------------\n\npublic class NYStyleCheesePizza extends Pizza {\n\n    public NYStyleCheesePizza() {\n        name = "NY Style Sauce and Cheese Pizza";\n        dough = "Thin Crust Dough"; // \u8584\u9905\u76ae\n        sauce = "Marinara Sauce"; // \u7d05\u91ac\n\n        toppings.add("Grated Reggiano Cheese"); // \u745e\u5409\u8d77\u53f8\u7684\u914d\u6599\n    }\n}\n\n// ----------------------------------------------------------------\n\npublic class ChicagoStyleCheesePizza extends Pizza {\n\n    public ChicagoStyleCheesePizza() {\n        name = "Chicago Style Deep Dish Cheese Pizza";\n        dough = "Extra Thick Crust Dough"; // \u8d85\u539a\u9905\u76ae\n        sauce = "Plum Tomato Sauce"; // \u756a\u8304\u91ac\n\n        toppings.add("Shredded Mozzarella Cheese"); // \u83ab\u672d\u745e\u62c9\u8d77\u53f8\u7684\u914d\u6599\n    }\n\n    void cut() { // \u829d\u52a0\u54e5\u98a8\u5473\u7684Pizza\u8986\u5bebcut\u65b9\u6cd5\uff0c\u5c07Pizza\u5207\u6210\u65b9\u584a\n        System.out.println("Cutting the pizza into square slices");\n    }\n}\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"9",children:["\n",(0,r.jsx)(n.li,{children:"\u64b0\u5beb\u5ba2\u6236\u7aef\u6e2c\u8a66\u8a02\u8cfc Pizza"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'public class PizzaTestDrive {\n\n    public static void main(String[] args) {\n        // \u5efa\u7acb\u5169\u500b\u4e0d\u540c\u7684Pizza\u5e97\n        PizzaStore nyStore = new NYPizzaStore();\n        PizzaStore chicagoStore = new ChicagoPizzaStore();\n\n        // \u7528\u4e00\u5bb6\u5e97\u4f86\u88fd\u4f5cEthan\u7684\u8a02\u55ae\n        Pizza pizza = nyStore.orderPizza("cheese");\n        System.out.println("Ethan ordered a " + pizza.getName() + "\\n");\n\n        // \u7528\u53e6\u4e00\u5bb6\u5e97\u4f86\u88fd\u4f5cJoel\u7684\u8a02\u55ae\n        pizza = chicagoStore.orderPizza("cheese");\n        System.out.println("Joel ordered a " + pizza.getName() + "\\n");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"\u5efa\u7acb\u8005\u548c\u7522\u54c1\u8996\u70ba\u5e73\u884c\u7684",src:i(2665).A+"",width:"2193",height:"1563"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5b9a\u7fa9\u5de5\u5ee0\u6a21\u5f0f",children:"\u5b9a\u7fa9\u5de5\u5ee0\u6a21\u5f0f"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5de5\u5ee0\u65b9\u6cd5\u6a21\u5f0f"}),"\u5b9a\u7fa9\u4e86\u4e00\u500b\u5275\u5efa\u7269\u4ef6\u7684\u4ecb\u9762\uff0c\u4f46\u662f\u4ed6\u8b93\u5b50\u985e\u5225\u6c7a\u5b9a\u60f3\u8981\u5be6\u4f8b\u5316\u54ea\u4e00\u500b\u985e\u5225\u3002\u5de5\u5ee0\u65b9\u6cd5\u53ef\u4ee5\u8b93\u4e00\u500b\u985e\u5225\u5c07\u5be6\u4f8b\u5316\u7684\u52d5\u4f5c\u63a8\u9072\u5230\u5b50\u985e\u5225\u3002"]})}),"\n",(0,r.jsx)(n.p,{children:"\u5de5\u5ee0\u65b9\u6cd5\u6a21\u5f0f\u53ef\u4ee5\u8b93\u6211\u5011\u5c07\u5177\u9ad4\u578b\u614b\u7684\u5be6\u4f8b\u5316\u5c01\u88dd\u8d77\u4f86\u3002\u6240\u4ee5\u901a\u5e38\u6703\u807d\u5230\u958b\u767c\u8005\u8aaa\uff1a\u300c\u5de5\u5ee0\u65b9\u6cd5\u6a21\u5f0f\u53ef\u4ee5\u8b93\u5b50\u985e\u5225\u6c7a\u5b9a\u60f3\u8981\u5be6\u4f8b\u5316\u7684\u985e\u5225\u3002\u300d"}),"\n",(0,r.jsx)(n.h3,{id:"\u6c92\u6709\u8822\u554f\u984c-1",children:"\u6c92\u6709\u8822\u554f\u984c"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u5982\u679c ConcreteCreator \u53ea\u6709\u4e00\u500b\u6642\uff0c\u5de5\u5ee0\u65b9\u6cd5\u6709\u4ec0\u9ebc\u597d\u8655\uff1f"})}),"\n",(0,r.jsx)(n.p,{children:"A: \u53ea\u6709\u4e00\u500b\u9084\u662f\u53ef\u4ee5\u9632\u6b62\u7522\u54c1\u7684\u5be6\u4f5c\u548c\u4ed6\u7684\u7528\u6cd5\u51fa\u73fe\u8026\u5408\uff0c\u53e6\u5916\u9700\u8981\u52a0\u5165\u984d\u5916\u7684\u7522\u54c1\u6216\u6539\u8b8a\u7522\u54c1\u7684\u5be6\u4f5c\uff0c\u4e26\u4e0d\u6703\u5f71\u97ff\u4f60\u7684 Creator\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u6211\u5011\u53ef\u4ee5\u8aaa NYStylePizzaStore \u548c ChicagoStylePizzaStore \u90fd\u662f\u7528\u7c21\u55ae\u5de5\u5ee0(Simple Factory)\u5be6\u4f5c\u7684\u55ce\uff1f"})}),"\n",(0,r.jsxs)(n.p,{children:["A: \u5169\u7a2e\u505a\u6cd5\u5f88\u50cf\uff0c\u4f46\u7528\u6cd5\u4e0d\u540c\u3002\u5177\u9ad4\u7684 Pizza \u5e97\u770b\u8d77\u4f86\u5f88\u50cf SimplePizzaFactory\uff0c\u4f46\u5177\u9ad4 Pizza \u5e97\u7e7c\u627f\u7684\u985e\u5225\u5b9a\u7fa9\u7684\u4e00\u500b\u62bd\u8c61\u65b9\u6cd5 createPizza()\uff0c\u800c createPizza()\u65b9\u6cd5\u662f",(0,r.jsx)(n.strong,{children:"\u7531\u6bcf\u4e00\u5bb6\u5e97\u5b9a\u7fa9\u7684"}),"\u3002\u5728\u7c21\u55ae\u5de5\u5ee0\u88e1\uff0c\u5de5\u5ee0\u662f\u8207 PizzaStore \u7d44\u5408\u5728\u4e00\u8d77\u7684\u53e6\u4e00\u500b\u7269\u4ef6\u3002"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u5de5\u5ee0\u65b9\u6cd5\u548c Creator \u985e\u5225\u4e00\u5b9a\u8981\u662f\u62bd\u8c61\u7684\u55ce\uff1f"})}),"\n",(0,r.jsx)(n.p,{children:"A: \u4e0d\u662f\uff0c\u53ef\u4ee5\u5b9a\u7fa9\u9810\u8a2d\u7684\u5de5\u5ee0\u65b9\u6cd5\u4f86\u7522\u751f\u5177\u9ad4\u7684\u7522\u54c1\u3002\u5373\u4f7f Creator \u6c92\u6709\u4efb\u4f55\u5b50\u985e\uff0c\u9084\u662f\u53ef\u4ee5\u88fd\u4f5c\u7522\u54c1\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u6bcf\u4e00\u500b\u5177\u9ad4\u5efa\u7acb\u8005\u90fd\u8981\u88fd\u4f5c\u591a\u500b\u7522\u54c1\u55ce\uff1f\u9084\u662f\u53ef\u4ee5\u53ea\u88fd\u4f5c\u4e00\u500b\uff1f"})}),"\n",(0,r.jsx)(n.p,{children:"A: \u6211\u5011\u88fd\u4f5c\u7684\u7d50\u69cb\u5c31\u662f\u53c3\u6578\u5316\u5de5\u5ee0\u65b9\u6cd5\uff0c\u53ef\u4ee5\u6839\u64da\u50b3\u4f86\u7684\u53c3\u6578\u88fd\u4f5c\u591a\u500b\u7269\u4ef6\u3002\u4f46\u662f\uff0c\u5de5\u5ee0\u901a\u5e38\u53ea\u6703\u88fd\u4f5c\u4e00\u500b\u7269\u4ef6\uff0c\u800c\u4e0d\u4f7f\u7528\u53c3\u6578\u3002\u5169\u8005\u578b\u5f0f\u90fd\u662f\u6709\u7528\u7684\u6a21\u5f0f\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u7528 String \u578b\u614b\u4f86\u50b3\u905e\u53c3\u6578\u4f3c\u4e4e\u4e0d\u592a\u5b89\u5168\uff0c\u5982\u679c\u6709\u4eba\u628a ClamPizza \u5beb\u6210 CalmPizza\uff1f"})}),"\n",(0,r.jsx)(n.p,{children:"A: \u5c0d\u7684\uff0c\u9019\u6703\u9020\u6210\u57f7\u884c\u671f\u932f\u8aa4\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee3\u8868\u53c3\u6578\u7a2e\u985e\u7684\u7269\u4ef6\u3001\u4f7f\u7528\u975c\u614b\u5e38\u6578\u3001\u6216\u4f7f\u7528 enum\uff0c\u78ba\u4fdd\u7de8\u8b6f\u671f\u53ef\u4ee5\u6293\u5230\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Q: \u7c21\u55ae\u5de5\u5ee0\u548c\u5de5\u5ee0\u65b9\u6cd5\u9084\u6709\u6c92\u6709\u5dee\u7570\uff1f"})}),"\n",(0,r.jsx)(n.p,{children:"A: \u7c21\u55ae\u5de5\u5ee0\u53ef\u4ee5\u5c07\u7269\u4ef6\u7684\u5efa\u7acb\u5c01\u88dd\u8d77\u4f86\uff0c\u4f46\u662f\u7121\u6cd5\u63d0\u4f9b\u5de5\u5ee0\u65b9\u6cd5\u7684\u5f48\u6027\uff0c\u56e0\u70ba\u4f60\u7121\u6cd5\u6539\u8b8a\u4f60\u6240\u5efa\u7acb\u7684\u7522\u54c1\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u4f9d\u8cf4\u53cd\u8f49\u539f\u5247dependency-inversion-principle",children:"\u4f9d\u8cf4\u53cd\u8f49\u539f\u5247(Dependency Inversion Principle)"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"\u8981\u4f9d\u8cf4\u62bd\u8c61\uff0c\u4e0d\u8981\u4f9d\u8cf4\u5177\u9ad4\u985e\u5225"})}),"\n",(0,r.jsxs)(n.p,{children:["\u8207\u300c\u91dd\u5c0d\u4ecb\u9762\u5beb\u7a0b\u5f0f\uff0c\u4e0d\u8981\u91dd\u5c0d\u5be6\u4f5c\u5beb\u7a0b\u5f0f\u300d\u5f88\u50cf\uff0c\u4f46\u4f9d\u8cf4\u53cd\u8f49\u66f4\u5f37\u8abf",(0,r.jsx)(n.strong,{children:"\u62bd\u8c61"}),"\uff0c\u63d0\u51fa\u9ad8\u968e\u7684\u7d44\u4ef6\u4e0d\u61c9\u8a72\u4f9d\u8cf4\u4f4e\u968e\u7684\u7d44\u4ef6\uff0c",(0,r.jsx)(n.strong,{children:"\u5169\u8005\u90fd\u8981"}),"\u4f9d\u8cf4\u62bd\u8c61\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u7b2c\u4e00\u7248\u7684-pizzastore",children:"\u7b2c\u4e00\u7248\u7684 PizzaStore"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u56e0\u70ba PizzaStore \u76f4\u63a5\u5efa\u7acb\u9019\u4e9b Pizza \u7269\u4ef6\uff0c\u6240\u4ee5\u4ed6\u4f9d\u8cf4\u9019\u4e9b\u7269\u4ef6\u3002\u5982\u679c\u9019\u4e9b Pizza \u7684\u5177\u9ad4\u5be6\u4f5c\u6539\u8b8a\u4e86\uff0c\u6709\u53ef\u80fd\u5c31\u8981\u4fee\u6539 PizzaStore\uff0c\u6240\u4ee5\u6211\u5011\u8aaa PizzaStore",(0,r.jsx)(n.strong,{children:"\u4f9d\u8cf4"}),"Pizza \u5177\u9ad4\u5be6\u4f5c\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"\u7b2c\u4e00\u7248PizzaStore\u4f9d\u8cf4\u5716",src:i(27321).A+"",width:"3603",height:"2133"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4f7f\u7528\u5de5\u5ee0\u6a21\u5f0f\u5f8c\u7684-pizzastore",children:"\u4f7f\u7528\u5de5\u5ee0\u6a21\u5f0f\u5f8c\u7684 PizzaStore"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4e3b\u8981\u554f\u984c\u662f PizzaStore \u4ed6\u4f9d\u8cf4\u6bcf\u4e00\u7a2e Pizza\uff0c\u56e0\u70ba orderPizza \u88e1\u5be6\u4f8b\u5316\u5177\u9ad4\u578b\u614b\u3002\u96d6\u7136\u5efa\u7acb\u4e00\u500b\u62bd\u8c61 Pizza\uff0c\u4f46\u6211\u5011\u4ecd\u5efa\u7acb\u8a31\u591a\u5177\u9ad4\u7684 Pizza\u3002\u4f7f\u7528\u5de5\u5ee0\u6a21\u5f0f\uff0c\u5c07 orderPizza \u65b9\u6cd5\u88e1\u7684\u5be6\u4f8b\u5316\u62ff\u51fa\u4f86\u5f8c\uff0c\u5c31\u53ef\u4ee5\u89e3\u6c7a\u4f9d\u8cf4\u3002\u6b64\u6642 PizzaStore \u53ea\u4f9d\u8cf4 Pizza \u4ecb\u9762\uff0c\u4ed6\u662f\u62bd\u8c61\u985e\u5225\uff0cPizza \u4ecb\u9762\u4e5f\u662f\u62bd\u8c61\u7684\uff0c\u5177\u9ad4 Pizza \u5be6\u4f5c Pizza \u4ecb\u9762\uff0c\u6240\u4ee5\u4f9d\u8cf4\u4ed6\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"\u5de5\u5ee0\u6a21\u5f0f\u5f8c\u7684PizzaStore\u4f9d\u8cf4\u5716",src:i(84176).A+"",width:"3603",height:"3033"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4ee5\u4e0b\u65b9\u91dd\u53ef\u4ee5\u907f\u514d\u8a2d\u8a08\u9055\u53cd\u4f9d\u8cf4\u53cd\u8f49\u539f\u5247",children:"\u4ee5\u4e0b\u65b9\u91dd\u53ef\u4ee5\u907f\u514d\u8a2d\u8a08\u9055\u53cd\u4f9d\u8cf4\u53cd\u8f49\u539f\u5247"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4efb\u4f55\u8b8a\u6578\u90fd\u4e0d\u61c9\u8a72\u4fdd\u5b58\u5177\u9ad4\u985e\u5225\u7684\u53c3\u8003","\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u7576\u4f60\u4f7f\u7528 new\uff0c\u4f60\u5c31\u6703\u4fdd\u5b58\u4e00\u500b\u6307\u5411\u5177\u9ad4\u985e\u5225\u7684\u53c3\u8003\uff0c\u4f7f\u7528\u5de5\u5ee0\u4f86\u907f\u514d"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\u4efb\u4f55\u985e\u5225\u90fd\u4e0d\u61c9\u8a72\u5f9e\u5177\u9ad4\u985e\u5225\u884d\u751f\u51fa\u4f86","\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u5f9e\u5177\u9ad4\u985e\u5225\u884d\u751f\uff0c\u5c31\u4f9d\u8cf4\u4e00\u500b\u5177\u9ad4\u985e\u5225"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\u4efb\u4f55\u65b9\u6cd5\u90fd\u4e0d\u61c9\u8a72\u8986\u5beb\u57fa\u5e95\u985e\u5225\u7684\u4efb\u4f55\u5df2\u5be6\u4f5c\u7684\u65b9\u6cd5","\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u8986\u5beb\u5df2\u5be6\u4f5c\u7684\u65b9\u6cd5\uff0c\u5c31\u4ee3\u8868\u4f60\u7684\u57fa\u5e95\u985e\u5225\u5f9e\u4e00\u958b\u59cb\u5c31\u4e0d\u662f\u771f\u6b63\u7684\u62bd\u8c61\u3002\u57fa\u5e95\u985e\u7684\u5be6\u4f5c\u65b9\u6cd5\uff0c\u662f\u70ba\u4e86\u8b93\u6240\u6709\u5b50\u985e\u5225\u5171\u7528\u7684"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u4e0a\u9762\u7684\u539f\u5247\u662f\u4f60\u8981\u76e1\u91cf\u9075\u5b88\uff0c\u4e0d\u662f\u4e0d\u7559\u9918\u5730\u7684\u6b7b\u898f\u5247\uff0c\u76ee\u7684\u662f\u5728\u9055\u53cd\u539f\u5247\u6642\u80fd\u7acb\u523b\u5bdf\u89ba\uff0c\u4e26\u77e5\u9053\u4f55\u6642\u6709\u5145\u5206\u7684\u7406\u7531\u53ef\u4ee5\u9055\u53cd\u539f\u5247"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6211\u5011\u7d93\u5e38\u4e0d\u5047\u601d\u7d22\u7684\u5be6\u4f8b\u5316 String \u7269\u4ef6\uff0c\u6709\u9055\u53cd\u539f\u5247\u55ce\uff1f\u6709\uff0c\u53ef\u4ee5\u9019\u6a23\u505a\u55ce\uff1f\u53ef\u4ee5\uff0c\u70ba\u4ec0\u9ebc\uff1f\u56e0\u70ba String \u975e\u5e38\u4e0d\u53ef\u80fd\u6539\u8b8a"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5de5\u5ee0\u65b9\u6cd5\u7684\u4f8b\u5b50",children:"\u5de5\u5ee0\u65b9\u6cd5\u7684\u4f8b\u5b50"}),"\n",(0,r.jsx)(n.h3,{id:"jdk-\u7684-javautilcollectioniterator",children:"JDK \u7684 java.util.Collection#iterator"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Collection \u4ecb\u9762\u5c31\u662f\u4e00\u500b\u62bd\u8c61\u5de5\u5ee0\uff0cArrayList \u5177\u9ad4\u5de5\u5ee0"}),"\n",(0,r.jsx)(n.li,{children:"Iterator \u4ecb\u9762\u662f\u62bd\u8c61\u7522\u54c1\uff0cListIterator \u662f\u62bd\u8c61\u7522\u54c1"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"JDK\u4e2d\u7684\u61c9\u7528",src:i(57396).A+"",width:"2133",height:"537"})}),"\n",(0,r.jsx)(n.h2,{id:"lambda-\u548c-enum-\u7684\u5beb\u6cd5",children:"Lambda \u548c Enum \u7684\u5beb\u6cd5"}),"\n",(0,r.jsx)(n.h3,{id:"\u53ea\u6709-lambda",children:"\u53ea\u6709 Lambda"}),"\n",(0,r.jsxs)(n.p,{children:["\u2b55",(0,r.jsx)(n.strong,{children:"\u512a\u9ede"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u53ef\u4ee5\u6e1b\u5c11 Class \u7684\u6578\u91cf"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u274c",(0,r.jsx)(n.strong,{children:"\u7f3a\u9ede"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u5de5\u5ee0\u9700\u8981\u591a\u500b\u5f15\u6578\u6642\u7121\u6cd5\u4f7f\u7528"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// ---------------------\u5c07\u5de5\u5ee0\u985e\u6539\u6210Lambda-------------------\npublic class NYPizzaStore extends PizzaStore {\n\n    // \u6539\u6210Map\u5c0d\u61c9\n    private static final Map<String, Optional<Supplier<Pizza>>> map = new ConcurrentHashMap<>();\n\n    static {\n        map.put("NYStyleCheesePizza", Optional.of(NYStyleCheesePizza::new));\n        map.put("NYStyleVeggiePizza", Optional.of(NYStyleVeggiePizza::new));\n        map.put("NYStyleClamPizza", Optional.of(NYStyleClamPizza::new));\n        map.put("NYStylePepperoniPizza", Optional.of(NYStylePepperoniPizza::new));\n    }\n\n    static Pizza createPizza(String item) { // \u9078\u64c7\u54ea\u4e00\u7a2e\u7d10\u7d04\u98a8\u5473\u7684Pizza\n        return map.get(item)\n                  .orElseThrow(() -> new IllegalArgumentException("No such item: " + item))\n                  .get();\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"lambda--enum",children:"Lambda + Enum"}),"\n",(0,r.jsxs)(n.p,{children:["\u2b55",(0,r.jsx)(n.strong,{children:"\u512a\u9ede"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Enum \u53ef\u4ee5\u4e0d\u7528\u5beb Optional"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u274c",(0,r.jsx)(n.strong,{children:"\u7f3a\u9ede"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u5982\u679c\u4f7f\u7528 Enum \u5247\u6703\u9020\u6210\u9078\u64c7\u7684\u908f\u8f2f\u7121\u6cd5\u96c6\u4e2d\u5728\u5de5\u5ee0\u88e1\u9762"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"// -----------------------------\u5efa\u7acbENUM\u985e-----------------------------\npublic enum NYStylePizzaEnum {\n    NYStyleCheesePizza(NYStyleCheesePizza::new),\n    NYStyleVeggiePizza(NYStyleVeggiePizza::new),\n    NYStyleClamPizza(NYStyleClamPizza::new),\n    NYStylePepperoniPizza(NYStylePepperoniPizza::new);\n\n    private final Supplier<Pizza> constructor;\n\n    NYStylePizzaEnum(Supplier<Pizza> constructor) {\n        this.constructor = constructor;\n    }\n\n    public Supplier<Pizza> getConstructor() {\n        return constructor\n    }\n}\n\n// -----------------------------\u5c07\u5de5\u5ee0\u6539\u70ba\u4f7f\u7528ENUM\u985e----------------------\n\npublic class NYPizzaStore extends PizzaStore {\n\n    // \u4f7f\u7528Enum\u4f86\u9078\u64c7\uff0c\u4f46\u5982\u4f55\u5224\u65b7\u4f7f\u7528\u54ea\u4e00\u500bEnum\u7684\u908f\u8f2f\u53ef\u80fd\u7121\u6cd5\u96c6\u4e2d\uff0c\u6703\u8dd1\u5230\u5de5\u5ee0\u5916\u90e8\n    Pizza createPizza(NYStylePizzaEnum NYStylePizza) {\n        return NYStylePizza.getConstructor().get();\n    }\n}\n"})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},17930:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/\u7c21\u55ae\u5de5\u5ee0\u4f8b\u5b50-be06ac2bb58a07a462bb2787b037c44d.png"},27321:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/\u7b2c\u4e00\u7248PizzaStore\u4f9d\u8cf4\u5716-ac3d6c0f47e44c5aa7901099535fcee1.png"},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>s});var a=i(96540);const r={},t=a.createContext(r);function l(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(t.Provider,{value:n},e.children)}},57396:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/JDK\u4e2d\u7684\u61c9\u7528-b7b0e3b5aeba129b63b48dd88664f3bb.png"},82731:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/\u5de5\u5ee0\u6a21\u5f0f\u67b6\u69cb-754ff21a735e9b160bbcf1b7b7b993c1.png"},84176:(e,n,i)=>{i.d(n,{A:()=>a});const a=i.p+"assets/images/\u5de5\u5ee0\u6a21\u5f0f\u5f8c\u7684PizzaStore\u4f9d\u8cf4\u5716-8143fde5eef691fb56975bdcf5f36ee1.png"}}]);