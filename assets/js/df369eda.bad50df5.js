"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[5037],{77258:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var l=t(74848),i=t(28453);const s={},c="Straegy Pattern (\u7b56\u7565\u6a21\u5f0f)",r={id:"notes/design-patterns/Strategy-Pattern",title:"Straegy Pattern (\u7b56\u7565\u6a21\u5f0f)",description:"\u7b56\u7565\u6a21\u5f0f\u662f\u4e00\u7a2e\u884c\u70ba\u8a2d\u8a08\u6a21\u5f0f\uff0c\u4ed6\u80fd\u8b93\u4f60\u5b9a\u7fa9\u4e00\u7cfb\u5217\u7b97\u6cd5\uff0c\u4e26\u5c07\u6bcf\u7a2e\u7b97\u6cd5\u5206\u5225\u653e\u5165\u7368\u7acb\u7684\u985e\u4e2d\uff0c\u4ee5\u4f7f\u7b97\u6cd5\u7684\u5c0d\u8c61\u80fd\u5920\u76f8\u4e92\u66ff\u63db\u3002",source:"@site/docs/notes/design-patterns/Strategy-Pattern.md",sourceDirName:"notes/design-patterns",slug:"/notes/design-patterns/Strategy-Pattern",permalink:"/docs/notes/design-patterns/Strategy-Pattern",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"notesSidebar",previous:{title:"Observer Pattern (\u89c0\u5bdf\u8005\u6a21\u5f0f)",permalink:"/docs/notes/design-patterns/Observer-Pattern"}},a={},d=[{value:"\u7b56\u7565\u6a21\u5f0f\u7d50\u69cb",id:"\u7b56\u7565\u6a21\u5f0f\u7d50\u69cb",level:3},{value:"\u7b56\u7565\u6a21\u5f0f\u9069\u5408\u7684\u61c9\u7528\u5834\u666f",id:"\u7b56\u7565\u6a21\u5f0f\u9069\u5408\u7684\u61c9\u7528\u5834\u666f",level:3},{value:"\u512a\u7f3a\u9ede",id:"\u512a\u7f3a\u9ede",level:3},{value:"\u539f\u59cb\u7684\u6a21\u578b\u67b6\u69cb",id:"\u539f\u59cb\u7684\u6a21\u578b\u67b6\u69cb",level:2},{value:"\u9700\u6c42\u589e\u52a0\u4e00\u500b\u6703\u98db\u7684\u884c\u70ba",id:"\u9700\u6c42\u589e\u52a0\u4e00\u500b\u6703\u98db\u7684\u884c\u70ba",level:2},{value:"\u5728\u62bd\u8c61\u985e\u5225\u4e2d\u589e\u52a0\u4e00\u500b Fly()\u884c\u70ba",id:"\u5728\u62bd\u8c61\u985e\u5225\u4e2d\u589e\u52a0\u4e00\u500b-fly\u884c\u70ba",level:3},{value:"\u4f7f\u7528\u4ecb\u9762\u589e\u52a0\u4e00\u500b Flyable\u3001Quackable",id:"\u4f7f\u7528\u4ecb\u9762\u589e\u52a0\u4e00\u500b-flyablequackable",level:3},{value:"\u5206\u6790\u539f\u56e0",id:"\u5206\u6790\u539f\u56e0",level:2},{value:"\u628a\u6703\u8b8a\u7684\u90e8\u5206\u548c\u4e0d\u8b8a\u7684\u90e8\u5206\u5206\u958b",id:"\u628a\u6703\u8b8a\u7684\u90e8\u5206\u548c\u4e0d\u8b8a\u7684\u90e8\u5206\u5206\u958b",level:3},{value:"\u6c92\u6709\u8822\u554f\u984c",id:"\u6c92\u6709\u8822\u554f\u984c",level:2},{value:"\u7d9c\u89c0\u5c01\u88dd\u884c\u70ba",id:"\u7d9c\u89c0\u5c01\u88dd\u884c\u70ba",level:2},{value:"HAS-A \u6709\u6642\u6bd4 IS-A \u9084\u8981\u597d",id:"has-a-\u6709\u6642\u6bd4-is-a-\u9084\u8981\u597d",level:3},{value:"\u7a0b\u5f0f\u78bc",id:"\u7a0b\u5f0f\u78bc",level:3},{value:"Java \u4f7f\u7528 Lamda \u7c21\u5316\u7b56\u7565\u6a21\u5f0f",id:"java-\u4f7f\u7528-lamda-\u7c21\u5316\u7b56\u7565\u6a21\u5f0f",level:2}];function o(n){const e={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"straegy-pattern-\u7b56\u7565\u6a21\u5f0f",children:"Straegy Pattern (\u7b56\u7565\u6a21\u5f0f)"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u7b56\u7565\u6a21\u5f0f"}),"\u662f\u4e00\u7a2e\u884c\u70ba\u8a2d\u8a08\u6a21\u5f0f\uff0c\u4ed6\u80fd\u8b93\u4f60\u5b9a\u7fa9\u4e00\u7cfb\u5217\u7b97\u6cd5\uff0c\u4e26\u5c07\u6bcf\u7a2e\u7b97\u6cd5\u5206\u5225\u653e\u5165\u7368\u7acb\u7684\u985e\u4e2d\uff0c\u4ee5\u4f7f\u7b97\u6cd5\u7684\u5c0d\u8c61\u80fd\u5920\u76f8\u4e92\u66ff\u63db\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u7b56\u7565\u6a21\u5f0f\u7d50\u69cb",children:"\u7b56\u7565\u6a21\u5f0f\u7d50\u69cb"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"\u7b56\u7565\u6a21\u5f0f\u7d50\u69cb",src:t(20659).A+"",width:"2223",height:"1083"})}),"\n",(0,l.jsx)(e.h3,{id:"\u7b56\u7565\u6a21\u5f0f\u9069\u5408\u7684\u61c9\u7528\u5834\u666f",children:"\u7b56\u7565\u6a21\u5f0f\u9069\u5408\u7684\u61c9\u7528\u5834\u666f"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u7576\u4f60\u60f3\u4f7f\u7528\u5404\u7a2e\u4e0d\u540c\u7684\u7b97\u6cd5\uff0c\u4e26\u4e14\u5e0c\u671b\u80fd\u5728\u904b\u884c\u671f\u9593\u5207\u63db\u7b97\u6cd5\u6642"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u7b56\u7565\u6a21\u5f0f\u53ef\u4ee5\u95dc\u806f\u4e0d\u540c\u7684\u5b50\u5c0d\u8c61\uff0c\u5f9e\u800c\u9593\u63a5\u5728\u904b\u884c\u6642\u66f4\u6539\u5c0d\u8c61\u884c\u70ba"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u7576\u6709\u8a31\u591a\u50c5\u5728\u57f7\u884c\u67d0\u4e9b\u884c\u70ba\u6642\u7565\u6709\u4e0d\u540c\u7684\u76f8\u4f3c\u985e\u6642"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u7b56\u7565\u6a21\u5f0f\u53ef\u4ee5\u5c07\u4e0d\u540c\u7684\u884c\u70ba\u62bd\u8c61\u5230\u4e00\u500b\u7368\u7acb\u985e\u7d50\u69cb\u4e2d\uff0c\u4e26\u5c07\u539f\u59cb\u985e\u7d44\u5408\u6210\u540c\u4e00\u500b"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5982\u679c\u7b97\u6cd5\u5728\u4e0a\u4e0b\u6587\u7684\u908f\u8f2f\u4e2d\u4e0d\u662f\u7279\u5225\u91cd\u8981\uff0c\u53ef\u4ee5\u5c07\u985e\u7684\u696d\u52d9\u908f\u8f2f\u548c\u4ed6\u7684\u7b97\u6cd5\u7d30\u7bc0\u9694\u96e2\u51fa\u4f86"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u7b56\u7565\u6a21\u5f0f\u80fd\u5c07\u5404\u7a2e\u7b97\u6cd5\u7684\u4ee3\u78bc\u3001\u5167\u90e8\u6578\u64da\u3001\u4f9d\u8cf4\u95dc\u4fc2\uff0c\u8ddf\u5176\u4ed6\u4ee3\u78bc\u5206\u958b\u4f86"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u7576\u985e\u4e2d\u4f7f\u7528\u4e86\u8907\u96dc\u689d\u4ef6\u904b\u7b97\uff0c\u4ee5\u5728\u540c\u4e00\u7b97\u6cd5\u7684\u4e0d\u540c\u8b8a\u9ad4\u4e2d\u5207\u63db"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u7b56\u7565\u6a21\u5f0f\u5c07\u6240\u6709\u7e7c\u627f\u76f8\u540c\u63a5\u53e3\u7684\u7b97\u6cd5\u62bd\u53d6\u81f3\u7368\u7acb\u985e\u4e2d\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u689d\u4ef6\u8a9e\u53e5\u3002\u539f\u59cb\u5c0d\u8c61\u4e5f\u4e0d\u5be6\u73fe\u6240\u6709\u7b97\u6cd5\u7684\u8b8a\u9ad4\uff0c\u800c\u662f\u5c07\u57f7\u884c\u5de5\u4f5c\u59d4\u8a17\u7d66\u5176\u4e2d\u4e00\u500b\u7368\u7acb\u7b97\u6cd5\u7684\u5c0d\u8c61\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u512a\u7f3a\u9ede",children:"\u512a\u7f3a\u9ede"}),"\n",(0,l.jsxs)(e.p,{children:["\u2b55",(0,l.jsx)(e.strong,{children:"\u512a\u9ede"})]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u904b\u884c\u6642\u5207\u63db\u5c0d\u8c61\u7684\u7b97\u6cd5"}),"\n",(0,l.jsx)(e.li,{children:"\u5c07\u7b97\u6cd5\u7684\u5be6\u73fe\u548c\u7b97\u6cd5\u7684\u4ee3\u78bc\u9694\u96e2\u958b\u4f86"}),"\n",(0,l.jsx)(e.li,{children:"\u4f7f\u7528\u7d44\u5408\u4ee3\u66ff\u7e7c\u627f"}),"\n",(0,l.jsx)(e.li,{children:"\u958b\u653e\u5c01\u9589\u539f\u5247\u3002\u7121\u9808\u5c0d\u4e0a\u4e0b\u6587\u4fee\u6539\uff0c\u5c31\u53ef\u4ee5\u5f15\u5165\u65b0\u7b56\u7565"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u274c",(0,l.jsx)(e.strong,{children:"\u7f3a\u9ede"})]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u82e5\u7b97\u6cd5\u6975\u5c11\u767c\u751f\u6539\u8b8a\uff0c\u6c92\u6709\u7406\u7531\u5f15\u5165\u65b0\u7684\u985e\u548c\u4ecb\u9762\uff0c\u6703\u4f7f\u7a0b\u5e8f\u66f4\u70ba\u8907\u96dc"}),"\n",(0,l.jsx)(e.li,{children:"\u5ba2\u6236\u7aef\u5fc5\u9808\u77e5\u9053\u7b56\u7565\u9593\u7684\u4e0d\u540c\uff0c\u56e0\u70ba\u8981\u9078\u64c7\u5408\u9069\u7684\u7b56\u7565"}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"/docs/notes/design-patterns/Strategy-Pattern#java-%E4%BD%BF%E7%94%A8-lamda-%E7%B0%A1%E5%8C%96%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F",children:"\u8a31\u591a\u7a0b\u5f0f\u8a9e\u8a00\u652f\u6301\u51fd\u6578\u985e\u578b"}),"\uff0c\u5141\u8a31\u5728\u533f\u540d\u51fd\u6578\u4e2d\u5be6\u73fe\u4e0d\u540c\u7248\u672c\u7684\u7b97\u6cd5\u3002\u9019\u4e9b\u51fd\u6578\u5c31\u548c\u4f7f\u7528\u7b56\u7565\u5c0d\u8c61\u5b8c\u5168\u76f8\u540c\uff0c\u7121\u9808\u501f\u52a9\u984d\u5916\u7684\u985e\u548c\u4ecb\u9762\u4f86\u4fdd\u6301\u7a0b\u5f0f\u4e7e\u6de8\u3002"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u539f\u59cb\u7684\u6a21\u578b\u67b6\u69cb",children:"\u539f\u59cb\u7684\u6a21\u578b\u67b6\u69cb"}),"\n",(0,l.jsx)(e.p,{children:"\u6709\u4e00\u500b\u9d28\u5b50\u6a21\u64ec\u904a\u6232\uff0c\u7a31\u4f5c SimUDuck\uff0c\u88e1\u9762\u7684\u5b9a\u7fa9\u4e86\u4e00\u500b Duck \u8d85\u985e\u5225\uff0c\u8b93\u6240\u6709\u54c1\u7a2e\u7684\u9d28\u5b50\u4f86\u7e7c\u627f\u4ed6\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"\u539f\u59cbAPP\u7684\u6a23\u8c8c",src:t(71716).A+"",width:"941",height:"717"})}),"\n",(0,l.jsx)(e.h2,{id:"\u9700\u6c42\u589e\u52a0\u4e00\u500b\u6703\u98db\u7684\u884c\u70ba",children:"\u9700\u6c42\u589e\u52a0\u4e00\u500b\u6703\u98db\u7684\u884c\u70ba"}),"\n",(0,l.jsx)(e.h3,{id:"\u5728\u62bd\u8c61\u985e\u5225\u4e2d\u589e\u52a0\u4e00\u500b-fly\u884c\u70ba",children:"\u5728\u62bd\u8c61\u985e\u5225\u4e2d\u589e\u52a0\u4e00\u500b Fly()\u884c\u70ba"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"\u62bd\u8c61\u985e\u5225\u589e\u52a0\u4e00\u500bfly",src:t(19377).A+"",width:"941",height:"774"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u7f3a\u9ede"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u6709\u53ef\u80fd\u6709\u4e00\u7a2e\u9d28(\u6a61\u76ae\u9d28)\u4e0d\u6703\u98db"}),"\n",(0,l.jsx)(e.li,{children:"\u591a\u4e00\u500b\u5b50\u985e\u53c8\u5fc5\u9808\u8907\u5beb\u4e00\u6b21 fly \u9019\u500b\u884c\u70ba(\u6539\u70ba\u4e0d\u6703\u98db)"}),"\n"]}),"\n",(0,l.jsx)(e.admonition,{type:"caution",children:(0,l.jsx)(e.p,{children:"\u5c40\u90e8\u4fee\u6539\u7a0b\u5f0f\u78bc\uff0c\u537b\u9020\u6210\u975e\u5c40\u90e8\u6027\u7684\u5f71\u97ff\uff01"})}),"\n",(0,l.jsx)(e.h3,{id:"\u4f7f\u7528\u4ecb\u9762\u589e\u52a0\u4e00\u500b-flyablequackable",children:"\u4f7f\u7528\u4ecb\u9762\u589e\u52a0\u4e00\u500b Flyable\u3001Quackable"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"\u4ecb\u9762\u589e\u52a0Flyable\u548cQuackable",src:t(80623).A+"",width:"1569",height:"774"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u7f3a\u9ede"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5982\u679c\u60f3\u8981\u6539 fly \u9019\u500b\u884c\u70ba\uff0c\u6240\u6709\u7684\u5b50\u985e\u5225\u90fd\u8981\u6539"}),"\n"]}),"\n",(0,l.jsx)(e.admonition,{type:"caution",children:(0,l.jsx)(e.p,{children:"\u7a0b\u5f0f\u78bc\u7121\u6cd5\u91cd\u8907\u5229\u7528"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\u5206\u6790\u539f\u56e0",children:"\u5206\u6790\u539f\u56e0"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5b50\u985e\u5225\u88e1\u9762\u7684\u9d28\u5b50\u884c\u70ba\u6703\u4e0d\u65b7\u6539\u8b8a"}),"\n",(0,l.jsx)(e.li,{children:"\u7e7c\u627f\u7684\u6548\u679c\u4e0d\u597d\uff0c\u4ecb\u9762\u53c8\u7121\u6cd5\u5be6\u4f5c\u7a0b\u5f0f\u78bc"}),"\n"]}),"\n",(0,l.jsx)(e.admonition,{type:"info",children:(0,l.jsx)(e.p,{children:"\u627e\u51fa\u61c9\u7528\u7a0b\u5f0f\u4e2d\u6703\u8b8a\u5f97\u90e8\u5206\uff0c\u628a\u4ed6\u5011\u548c\u4e0d\u6703\u8b8a\u7684\u90e8\u5206\u5340\u5206\u9694\u958b"})}),"\n",(0,l.jsx)(e.admonition,{type:"note",children:(0,l.jsx)(e.p,{children:"\u628a\u6703\u8b8a\u5f97\u90e8\u5206\u5c01\u88dd\u8d77\u4f86\uff0c\u5982\u6b64\u4e00\u4f86\uff0c\u4f60\u5c31\u53ef\u4ee5\u4fee\u6539\u6216\u64f4\u5c55\u6703\u8b8a\u5f97\u90e8\u5206\uff0c\u540c\u6642\u4e0d\u6703\u5f71\u97ff\u4e0d\u8b8a\u7684\u90e8\u5206"})}),"\n",(0,l.jsx)(e.h3,{id:"\u628a\u6703\u8b8a\u7684\u90e8\u5206\u548c\u4e0d\u8b8a\u7684\u90e8\u5206\u5206\u958b",children:"\u628a\u6703\u8b8a\u7684\u90e8\u5206\u548c\u4e0d\u8b8a\u7684\u90e8\u5206\u5206\u958b"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Duck \u985e\u5225\u88e1\u6709 fly()\u548c quack()\u6703\u96a8\u8457\u9d28\u81ea\u4e0d\u540c\u800c\u6539\u8b8a\uff0c\u6240\u4ee5\u62bd\u51fa Duck \u985e\u5225\uff0c\u4e26\u5efa\u7acb\u4e00\u7d44\u985e\u5225\u4f86\u4ee3\u8868\u90a3\u4e9b\u884c\u70ba\u3002Duck \u5c31\u5c07\u98db\u884c\u548c\u9cf4\u53eb\u7684\u884c\u70ba"})," ",(0,l.jsx)(e.em,{children:"\u59d4\u8a17(delegate)"})," ",(0,l.jsx)(e.strong,{children:"\u51fa\u53bb"})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"\u91dd\u5c0d\u4ecb\u9762\u5beb\u7a0b\u5f0f(\u5be6\u4f5cDuck\u884c\u70ba)",src:t(75784).A+"",width:"2285",height:"603"})}),"\n",(0,l.jsx)(e.admonition,{type:"info",children:(0,l.jsx)(e.p,{children:"\u91dd\u5c0d\u4ecb\u9762\u5beb\u7a0b\u5f0f\uff0c\u800c\u4e0d\u662f\u91dd\u5c0d\u5be6\u4f5c\u5beb\u7a0b\u5f0f"})}),"\n",(0,l.jsxs)(e.p,{children:["\u91dd\u5c0d\u4ecb\u9762\u5beb\u7a0b\u5f0f == \u91dd\u5c0d\u8d85\u578b\u614b(supertype)\u5beb\u7a0b\u5f0f == \u7528\u4f86\u5ba3\u544a\u8b8a\u6578\u7684\u578b\u614b\u61c9\u8a72\u662f\u8d85\u578b\u614b(",(0,l.jsx)(e.em,{children:"\u901a\u5e38\u662f\u62bd\u8c61\u985e\u5225\u6216\u4ecb\u9762"}),")"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"// \u91dd\u5c0d\u5be6\u4f5c\u5beb\u7a0b\u5f0f\nDog d = new Dog();\nd.bark()\n\n// \u91dd\u5c0d\u4ecb\u9762/\u8d85\u578b\u614b\u5beb\u7a0b\u5f0f\nAnimal animal = new Dog();\nanimal.makeSound()\n\n// \u66f4\u597d\u7684\u65b9\u6cd5\u662f\u5728\u57f7\u884c\u671f\u6307\u6d3e\u5177\u9ad4\u7684\u5be6\u4f5c\u7269\u4ef6\uff0c\u800c\u4e0d\u662f\u7528\u56fa\u5b9a\u7684\u7a0b\u5f0f\u4f86\u5be6\u4f8b\u5316\u5b50\u578b\u614b\nAnimal a = getAnimal()\na.makeSound() // \u6211\u5011\u4e0d\u77e5\u9053animal\u7684\u5b50\u578b\u614b\u5230\u5e95\u662f\u4ec0\u9ebc\uff0c\u53ea\u77e5\u9053\u4ed6\u5982\u4f55\u56de\u61c9\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u597d\u8655"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u53ef\u4ee5\u8b93\u5176\u4ed6\u7269\u4ef6\u578b\u614b\u91cd\u8907\u4f7f\u7528\u98db\u884c\u548c\u9cf4\u53eb\u884c\u70ba\uff0c\u56e0\u70ba\u9019\u4e9b\u884c\u70ba\u6c92\u6709\u88ab\u57cb\u5728 Duck \u985e\u5225\u88e1"}),"\n",(0,l.jsx)(e.li,{children:"\u4e5f\u53ef\u4ee5\u52a0\u5165\u65b0\u884c\u70ba\uff0c\u800c\u4e14\u4e0d\u9700\u8981\u4fee\u6539\u65e2\u6709\u7684\u884c\u70ba\u985e\u5225\uff0c\u6216\u4fee\u6539\u4f7f\u7528\u98db\u884c\u884c\u70ba\u7684 Duck \u985e\u5225"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\u6c92\u6709\u8822\u554f\u984c",children:"\u6c92\u6709\u8822\u554f\u984c"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Q: \u5148\u5beb\u597d\u61c9\u7528\u7a0b\u5f0f\uff0c\u770b\u770b\u54ea\u4e9b\u5730\u65b9\u6703\u6539\u8b8a\uff0c\u518d\u56de\u904e\u982d\u4f86\u9694\u96e2\u4e26\u5c01\u88dd\u6703\u8b8a\u7684\u5730\u65b9\u55ce\uff1f"})}),"\n",(0,l.jsx)(e.p,{children:"A: \u4e0d\u4e00\u5b9a\uff0c\u5728\u8a2d\u8a08\u61c9\u7528\u7a0b\u5f0f\u7684\u6642\u5019\uff0c\u901a\u5e38\u53ef\u4ee5\u9810\u6599\u54ea\u4e9b\u5730\u65b9\u6703\u6539\u8b8a\uff0c\u63d0\u524d\u52a0\u5165\u8655\u7406\u4ed6\u7684\u5f48\u6027\u6a5f\u5236\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Q: \u662f\u4e0d\u662f\u4e5f\u8981\u628a Duck \u505a\u6210\u4ecb\u9762\uff1f"})}),"\n",(0,l.jsx)(e.p,{children:"A: \u5728\u9019\u500b\u4f8b\u5b50\u4e0d\u7528\u3002\u7e7c\u627f\u5171\u540c\u7684\u5c6c\u6027\u548c\u65b9\u6cd5\u662f\u6709\u597d\u8655\u7684(\u4e0d\u8b8a\u7684\u5730\u65b9)\uff0c\u540c\u6642\u6211\u5011\u4e5f\u5df2\u7d93\u628a\u6703\u8b8a\u5f97\u90e8\u5206\u79fb\u958b\u4e86\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Q: \u53ea\u6709\u4e00\u500b\u884c\u70ba\u7684\u985e\u5225\u6709\u9ede\u5947\u602a\uff0c\u985e\u5225\u4e0d\u662f\u7528\u4f86\u8868\u793a\u67d0\u4e00\u7a2e\u300c\u6771\u897f\u300d\u55ce\uff1f"})}),"\n",(0,l.jsx)(e.p,{children:"A: \u5728\u7269\u4ef6\u5c0e\u5411\u4e2d\uff0c\u985e\u5225\u901a\u5e38\u4ee3\u8868\u517c\u5177\u72c0\u614b(\u5be6\u4f8b\u8b8a\u6578)\u7684\u65b9\u6cd5\u7684\u6771\u897f\u3002\u5728\u9019\u500b\u4f8b\u5b50\u88e1\uff0c\u90a3\u500b\u6771\u897f\u78b0\u5de7\u662f\u4e00\u7a2e\u884c\u70ba\uff0c\u4f46\u662f\uff0c\u884c\u70ba\u540c\u6a23\u6709\u72c0\u614b\u548c\u65b9\u6cd5\uff0c\u98db\u884c\u884c\u70ba\u53ef\u80fd\u7528\u5be6\u4f8b\u8b8a\u6578\u4f86\u4ee3\u8868\u98db\u884c\u884c\u70ba\u7684\u5c6c\u6027(\u6bcf\u5206\u9418\u63ee\u52d5\u5e7e\u4e0b\u7fc5\u8180\u3001\u6700\u5927\u98db\u884c\u9ad8\u5ea6...\u7b49)"}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\u7d9c\u89c0\u5c01\u88dd\u884c\u70ba",children:"\u7d9c\u89c0\u5c01\u88dd\u884c\u70ba"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.img,{alt:"\u7d9c\u89c0\u5c01\u88dd\u884c\u70ba",src:t(69152).A+"",width:"4173",height:"2223"})}),"\n",(0,l.jsx)(e.h3,{id:"has-a-\u6709\u6642\u6bd4-is-a-\u9084\u8981\u597d",children:"HAS-A \u6709\u6642\u6bd4 IS-A \u9084\u8981\u597d"}),"\n",(0,l.jsxs)(e.p,{children:["\u6bcf\u96bb\u9d28\u5b50\u90fd\u6709 FlyBehavior \u8207 QuackBehavior\uff0c\u9d28\u5b50\u6703\u5c07",(0,l.jsx)(e.strong,{children:"\u98db\u884c"}),"\u548c",(0,l.jsx)(e.strong,{children:"\u9cf4\u53eb"}),"\u59d4\u8a17\u7d66\u4ed6\u5011\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u628a\u9019\u5169\u500b\u985e\u5225\u7d50\u5408\u8d77\u4f86\u5c31\u662f",(0,l.jsx)(e.strong,{children:"\u7d44\u5408(composition)"}),"\uff0c\u9d28\u5b50\u7684\u884c\u70ba\u4e0d\u662f\u7e7c\u627f\u800c\u4f86\uff0c\u800c\u662f\u548c\u884c\u70ba\u7269\u4ef6\u7d44\u5408\u8d77\u4f86\u7372\u5f97\u7684\u3002"]}),"\n",(0,l.jsx)(e.admonition,{type:"info",children:(0,l.jsx)(e.p,{children:"\u591a\u7528\u7d44\u5408\uff0c\u5c11\u7528\u7e7c\u627f"})}),"\n",(0,l.jsx)(e.h3,{id:"\u7a0b\u5f0f\u78bc",children:"\u7a0b\u5f0f\u78bc"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5275\u5efa abstract class Duck\uff0c\u4e26\u5ba3\u544a\u5169\u500b\u884c\u70ba\u4ecb\u9762\u578b\u614b\u7684\u53c3\u8003\u8b8a\u6578\uff0c\u9d28\u5b50\u5b50\u985e\u90fd\u6703\u7e7c\u627f\u4ed6\u5011\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public abstract class Duck {\n\tFlyBehavior flyBehavior; //\u884c\u70ba\u4ecb\u9762\u578b\u614b\u7684\u53c3\u8003\u8b8a\u6578\n\tQuackBehavior quackBehavior; //\u884c\u70ba\u4ecb\u9762\u578b\u614b\u7684\u53c3\u8003\u8b8a\u6578\n\n\tpublic Duck() {\n\t}\n\n\tpublic void setFlyBehavior(FlyBehavior fb) { // \u52d5\u614b\u6539\u8b8a\u9d28\u5b50\u7684\u884c\u70ba\n\t\tflyBehavior = fb;\n\t}\n\n\tpublic void setQuackBehavior(QuackBehavior qb) { // \u52d5\u614b\u6539\u8b8a\u9d28\u5b50\u7684\u884c\u70ba\n\t\tquackBehavior = qb;\n\t}\n\n\tabstract void display();\n\n\tpublic void performFly() {\n\t\tflyBehavior.fly(); // \u59d4\u8a17\u7d66\u884c\u70ba\u985e\u5225\n\t}\n\n\tpublic void performQuack() {\n\t\tquackBehavior.quack(); // \u59d4\u8a17\u7d66\u884c\u70ba\u985e\u5225\n\t}\n\n\tpublic void swim() {\n\t\tSystem.out.println("All ducks float, even decoys!");\n\t}\n}\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:"FlyBehavior \u4ecb\u9762\uff0c\u4e26\u5efa\u7acb\u5169\u500b\u884c\u70ba\u5be6\u4f5c\u985e\u5225"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public interface FlyBehavior {\n\tpublic void fly();\n}\n\n//----------------------------------------------------------------\n\npublic class FlyWithWings implements FlyBehavior {\n\tpublic void fly() {\n\t\tSystem.out.println("I\'m flying!!");\n\t}\n}\n\n//----------------------------------------------------------------\n\npublic class FlyNoWay implements FlyBehavior {\n\tpublic void fly() {\n\t\tSystem.out.println("I can\'t fly");\n\t}\n}\n\n//----------------------------------------------------------------\n\npublic class FlyRocketPowered implements FlyBehavior { // \u65b0\u589e\u706b\u7bad\u7684\u98db\u884c\u6a21\u5f0f\n\tpublic void fly() {\n\t\tSystem.out.println("I\'m flying with a rocket");\n\t}\n}\n\n\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"QuackBehavior \u4ecb\u9762\uff0c\u5275\u5efa\u4e09\u500b\u884c\u70ba\u5be6\u4f5c\u985e\u5225"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public interface QuackBehavior {\n\tpublic void quack();\n}\n\n//----------------------------------------------------------------\n\npublic class Quack implements QuackBehavior {\n\tpublic void quack() {\n\t\tSystem.out.println("Quack");\n\t}\n}\n\n//----------------------------------------------------------------\n\npublic class MuteQuack implements QuackBehavior {\n\tpublic void quack() {\n\t\tSystem.out.println("<< Silence >>");\n\t}\n}\n\n//----------------------------------------------------------------\n\npublic class Squeak implements QuackBehavior {\n\tpublic void quack() {\n\t\tSystem.out.println("Squeak");\n\t}\n}\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:"\u88fd\u4f5c\u65b0\u7684 Duck \u578b\u614b(ModelDuck)"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public class ModelDuck extends Duck {\n\tpublic ModelDuck() {\n\t\tflyBehavior = new FlyNoWay(); // \u4e00\u958b\u59cb\u7684\u6a21\u578b\u9d28\u662f\u9678\u68f2\u7684\uff0c\u4ed6\u4e0d\u6703\u98db\n\t\tquackBehavior = new Quack();\n\t}\n\n\tpublic void display() {\n\t\tSystem.out.println("I\'m a model duck");\n\t}\n}\n\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsx)(e.li,{children:"\u6e2c\u8a66\u539f\u672c\u7684 ModelDuck\uff0c\u4e26\u52d5\u614b\u52a0\u4e0a\u706b\u7bad\u7684\u98db\u884c\u529f\u80fd"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"public class MiniDuckSimulator {\n\tpublic static void main(String[] args) {\n\t\tDuck model = new ModelDuck();\n\t\tmodel.performFly();\n\t\tmodel.setFlyBehavior(new FlyRocketPowered()); // \u52d5\u614b\u8a2d\u5b9a\u98db\u884c\u65b9\u5f0f\n\t\tmodel.performFly();\n\t}\n}\n\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8981\u5728\u57f7\u884c\u671f\u9593\u6539\u8b8a\u9d28\u5b50\u7684\u884c\u70ba\uff0c\u4f60\u53ea\u9700\u8981\u547c\u53eb\u9d28\u5b50\u7684\u884c\u70ba setter \u5373\u53ef"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"java-\u4f7f\u7528-lamda-\u7c21\u5316\u7b56\u7565\u6a21\u5f0f",children:"Java \u4f7f\u7528 Lamda \u7c21\u5316\u7b56\u7565\u6a21\u5f0f"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u5b9a\u7fa9 Context \u8a18\u9304\u6307\u5411\u7b97\u6cd5\u7684\u5be6\u4f8b"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"public class Context {\n\tprivate final Operation operation;\n\n\tpublic Context(Operation operation) {\n\t\tthis.operation = operation;\n\t}\n\n\tpublic int getResult(int num1, int num2) {\n\t\treturn operation.doSomething(num1, num2);\n\t}\n}\n\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:["\u5b9a\u7fa9\u51fd\u6578\u662f\u4ecb\u9762\uff0c\u6ce8\u610f\u8981\u52a0\u4e0a ",(0,l.jsx)(e.strong,{children:"@FunctionalInterface"})]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:"// \u51fd\u6578\u5f0f\u4ecb\u9762\u5c31\u662f\u53ea\u6709\u4e00\u500b\u62bd\u8c61\u65b9\u6cd5\u7684\u4ecb\u9762\n// \u5728\u7b56\u7565\u6a21\u5f0f\u4e2d\u7684\u7b97\u6cd5\uff0c\u5c31\u662f\u4e00\u500b\u51fd\u6578\u5f0f\u4ecb\u9762\n// \u6b64\u8655\u6a19\u8a3b\u4e86\u4ecb\u9762\u70ba\u4e00\u500b\u51fd\u6578\u5f0f\u4ecb\u9762\uff0c\u5982\u679c\u4ecb\u9762\u5b9a\u7fa9\u4e86\u591a\u500b\u62bd\u8c61\u65b9\u6cd5\uff0c\u6703\u5728\u7de8\u8b6f\u6642\u671f\u5831\u932f\n\n@FunctionalInterface\npublic interface Operation {\n\tint doSomething(int num1, int num2);\n}\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"\u6e2c\u8a66\u5229\u7528\u4e0d\u540c\u7684\u7b97\u6cd5\u5f97\u5230\u4e0d\u540c\u7684\u7d50\u679c"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-java",children:'public class Test {\n\tpublic static void main(String[] args) {\n\t\tContext context = new Context(((num1, num2) -> num1 + num2)) // \u8a2d\u5b9a\u52a0\u6cd5\u7b97\u6cd5\n\t\tSystem.out.println("1 + 1 = " + context.getResult(1,1)); // 1 + 1 = 2\n\t\tContext context = new Context(((num1, num2) -> num1 - num2)) // \u8a2d\u5b9a\u6e1b\u6cd5\u7b97\u6cd5\n\t\tSystem.out.println("1 - 1 = " + context.getResult(1,1)); // 1 - 1 = 0\n\t\tContext context = new Context(((num1, num2) -> num1 * num2)) // \u8a2d\u5b9a\u4e58\u6cd5\u7b97\u6cd5\n\t\tSystem.out.println("1 * 1 = " + context.getResult(1,1)); // 1 * 1 = 1\n\t\tContext context = new Context(((num1, num2) -> num1 / num2)) // \u8a2d\u5b9a\u9664\u6cd5\u7b97\u6cd5\n\t\tSystem.out.println("1 / 1 = " + context.getResult(1,1)); // 1 / 1 = 1\n\t}\n}\n'})})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},80623:(n,e,t)=>{t.d(e,{A:()=>l});const l=t.p+"assets/images/\u4ecb\u9762\u589e\u52a0Flyable\u548cQuackable-944889905a675611ab5d77caad446918.png"},71716:(n,e,t)=>{t.d(e,{A:()=>l});const l=t.p+"assets/images/\u539f\u59cbAPP\u7684\u6a23\u8c8c-5418b031266cd8fb7f17914ca84eefd7.png"},19377:(n,e,t)=>{t.d(e,{A:()=>l});const l=t.p+"assets/images/\u62bd\u8c61\u985e\u5225\u589e\u52a0\u4e00\u500bfly-6618115293028237253beb90e2e0c850.png"},20659:(n,e,t)=>{t.d(e,{A:()=>l});const l=t.p+"assets/images/\u6a21\u5f0f\u7d50\u69cb-03e52d3e0b2a435aa49d54ddb88c1754.png"},69152:(n,e,t)=>{t.d(e,{A:()=>l});const l=t.p+"assets/images/\u7d9c\u89c0\u5c01\u88dd\u884c\u70ba-439ff4085649601bce8a93df739d9140.png"},75784:(n,e,t)=>{t.d(e,{A:()=>l});const l=t.p+"assets/images/\u91dd\u5c0d\u4ecb\u9762\u5beb\u7a0b\u5f0f(\u5be6\u4f5cDuck\u884c\u70ba)-2361b99089ec64b04eb4534a063b4fe5.png"},28453:(n,e,t)=>{t.d(e,{R:()=>c,x:()=>r});var l=t(96540);const i={},s=l.createContext(i);function c(n){const e=l.useContext(s);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);