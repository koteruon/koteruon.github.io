<!doctype html>
<html lang="zh-Hant" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-research/AI-Powered-Table-Tennis-Scoring-System-with-Ball-Launcher" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">AI Powered Table Tennis Scoring System with Ball Launcher | Chao-En Huang</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://koteruon.github.io/images/icon/chao_en_huang_icon.png"><meta data-rh="true" name="twitter:image" content="https://koteruon.github.io/images/icon/chao_en_huang_icon.png"><meta data-rh="true" property="og:url" content="https://koteruon.github.io/docs/research/AI-Powered-Table-Tennis-Scoring-System-with-Ball-Launcher"><meta data-rh="true" property="og:locale" content="zh_Hant"><meta data-rh="true" name="docusaurus_locale" content="zh-Hant"><meta data-rh="true" name="docsearch:language" content="zh-Hant"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AI Powered Table Tennis Scoring System with Ball Launcher | Chao-En Huang"><meta data-rh="true" name="description" content="&lt;HuggingFaceCard"><meta data-rh="true" property="og:description" content="&lt;HuggingFaceCard"><link data-rh="true" rel="icon" href="/images/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://koteruon.github.io/docs/research/AI-Powered-Table-Tennis-Scoring-System-with-Ball-Launcher"><link data-rh="true" rel="alternate" href="https://koteruon.github.io/docs/research/AI-Powered-Table-Tennis-Scoring-System-with-Ball-Launcher" hreflang="zh-Hant"><link data-rh="true" rel="alternate" href="https://koteruon.github.io/docs/research/AI-Powered-Table-Tennis-Scoring-System-with-Ball-Launcher" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chao-En Huang RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chao-En Huang Atom Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5X8N2TCV",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4d27f2bd.css">
<script src="/assets/js/runtime~main.c5f437ad.js" defer="defer"></script>
<script src="/assets/js/main.08c3a249.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5X8N2TCV" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳至主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳至主要内容</a></div><nav aria-label="主導航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切換導覽列" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/icon/apple-touch-icon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/icon/apple-touch-icon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Chao-En</b></a><a class="navbar__item navbar__link" href="/about-me">About Me</a><a class="navbar__item navbar__link" href="/docs/notes">Notes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/research">Research</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/koteruon" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切換淺色/深色模式（當前為淺色模式）" aria-label="切換淺色/深色模式（當前為淺色模式）" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到頂部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文件側邊欄" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/research">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/research/Master-Thesis">A Novel Table Tennis Stroke Recognition Method Using The Bimodal Deep Neural Networks with Skeletal-Temporal Transformer and Racket Geometric Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/research/Table-Tennis-Referee-System-Using-Multimodal-Deep-Learning">Table Tennis Referee System Using Multimodal Deep Learning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/research/Table-Tennis-Trajectory-Landing-Point-and-Speed-Analysis-System">Table Tennis Trajectory Landing Point and Speed Analysis System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/research/AI-Powered-Table-Tennis-Scoring-System-with-Ball-Launcher">AI Powered Table Tennis Scoring System with Ball Launcher</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/research/Enhancing-UNet3Plus-Robustness-with-Weight-Perturbation">Enhancing UNet3+ Robustness with Weight Perturbation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/research/Exploiting-Minimal-Distance-for-Automatic-Weighted-Color-Transfer">Exploiting Minimal Distance for Automatic Weighted Color Transfer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/research/Image-Encryption-and-Data-Embedding-Using-Transformation-Techniques">Image Encryption and Data Embedding Using Transformation Techniques</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="頁面路徑"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主頁面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">AI Powered Table Tennis Scoring System with Ball Launcher</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本頁導覽</button></div><div class="theme-doc-markdown markdown"><header><h1>AI Powered Table Tennis Scoring System with Ball Launcher</h1></header>
<!-- -->
<div style="border:1px solid #D0D7DE;border-radius:6px;background-color:#FFFFFF;padding:16px;font-size:14px;line-height:1.5;color:#24292E;margin:15px 0;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;"><div style="display:flex;align-items:center;margin-bottom:8px"><img src="/images/icon/hf-logo-pirate.svg" alt="Hugging Face Logo" style="width:20px;height:20px;margin-right:8px"><a href="https://huggingface.co/koteruon/pitching_machine_20250220" target="_blank" rel="noopener noreferrer" style="font-weight:600;color:#0969DA;text-decoration:none">pitching_machine_20250220</a></div><div style="font-size:12px;margin:8px 0;color:#57606A"></div><div style="font-size:12px;color:#57606A;display:flex;align-items:center"><span style="width:12px;height:12px;border-radius:100%;background-color:#DA5B0B;display:inline-block;margin-right:6px"></span>Pytorch Model</div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="experimental-results">Experimental Results<a href="#experimental-results" class="hash-link" aria-label="Experimental Results的直接連結" title="Experimental Results的直接連結">​</a></h2>
<div><link rel="preload" href="https://i.ytimg.com/vi/fNfukbNJ5RY/hqdefault.jpg" as="image"><article class="yt-lite" data-title="AI自動計分系統_20250207中興大學智慧桌球教室" style="background-image:url(https://i.ytimg.com/vi/fNfukbNJ5RY/hqdefault.jpg);--aspect-ratio:56.25%"><button type="button" class="lty-playbtn" aria-label="Watch AI自動計分系統_20250207中興大學智慧桌球教室"></button></article></div>
<hr>
<div><link rel="preload" href="https://i.ytimg.com/vi/xWw61WRLG08/hqdefault.jpg" as="image"><article class="yt-lite" data-title="AI自動計分系統_20250317中興大學智慧桌球教室" style="background-image:url(https://i.ytimg.com/vi/xWw61WRLG08/hqdefault.jpg);--aspect-ratio:56.25%"><button type="button" class="lty-playbtn" aria-label="Watch AI自動計分系統_20250317中興大學智慧桌球教室"></button></article></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="explanatory-videos">Explanatory Videos<a href="#explanatory-videos" class="hash-link" aria-label="Explanatory Videos的直接連結" title="Explanatory Videos的直接連結">​</a></h2>
<div><link rel="preload" href="https://i.ytimg.com/vi/Idv8vyaT91o/hqdefault.jpg" as="image"><article class="yt-lite" data-title="AI自動計分系統" style="background-image:url(https://i.ytimg.com/vi/Idv8vyaT91o/hqdefault.jpg);--aspect-ratio:56.25%"><button type="button" class="lty-playbtn" aria-label="Watch AI自動計分系統"></button></article></div>
<hr>
<div><link rel="preload" href="https://i.ytimg.com/vi/OCwr4sVCk-w/hqdefault.jpg" as="image"><article class="yt-lite" data-title="AI自動計分系統" style="background-image:url(https://i.ytimg.com/vi/OCwr4sVCk-w/hqdefault.jpg);--aspect-ratio:56.25%"><button type="button" class="lty-playbtn" aria-label="Watch AI自動計分系統"></button></article></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="paper-presentation-at-itaoi-2025">Paper Presentation at ITAOI 2025<a href="#paper-presentation-at-itaoi-2025" class="hash-link" aria-label="Paper Presentation at ITAOI 2025 的直接連結" title="Paper Presentation at ITAOI 2025的直接連結">​</a></h2>
<p>Our paper was presented at <a href="https://itaoi2025.gms.npu.edu.tw/" target="_blank" rel="noopener noreferrer">The 23rd Conference on Information Technology and Application in Outlying Islands (ITAOI 2025)</a>.</p>
<p>🏆 <strong>Award: Best Paper Award (最佳論文獎, Top 5% of 239 accepted papers)</strong></p>
<p><img decoding="async" loading="lazy" alt="ITAOI2025-Best-Paper-Award" src="/assets/images/ITAOI2025-Best-Paper-Award-b381304fad7338d975fa27cc59f6d758.jpg" width="3509" height="2481" class="img_ev3q"></p>
<p>You can view or download the full paper here:</p>
<p>👉 <a href="/assets/files/AI-Scoring-System-6ce3d50958a2abffb98289ee569c4bef.pdf" target="_blank">Download AI-Scoring-System.pdf</a></p>
<p><img decoding="async" loading="lazy" alt="2025-itaoi" src="/assets/images/2025-itaoi-d31c29908132ed51db5a73d30653b4cf.png" width="1268" height="284" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="abstract">Abstract<a href="#abstract" class="hash-link" aria-label="Abstract的直接連結" title="Abstract的直接連結">​</a></h2>
<p>This paper proposes a <strong>vision-based tracking system</strong> for analyzing <strong>table tennis ball trajectories</strong> and <strong>classifying landing points</strong>, leveraging the capabilities of the <strong>YOLOv7 object detection framework</strong>.
The system initially detects and tracks the ball across consecutive video frames using YOLOv7.
Trajectories are constructed or updated by evaluating the <strong>inter-frame distance</strong>, <strong>aspect ratio</strong>, <strong>intersection over union (IoU)</strong>, and <strong>motion direction</strong> of the detected ball positions.</p>
<p>When a ball&#x27;s motion deviates from the expected <strong>parabolic trajectory</strong>, a landing event is inferred.
To accurately determine the landing position on the table surface, the system applies a <strong>perspective transformation</strong> based on the four calibrated corners of the table.</p>
<p>Based on the identified landing location, each shot is categorized into one of the following classes: <strong>valid hit</strong>, <strong>incorrect landing</strong>, <strong>out-of-bounds</strong>, or <strong>missed shot</strong>.
By integrating YOLOv7, which offers both <strong>high detection speed</strong> and <strong>precision</strong>, the system significantly improves the <strong>real-time performance</strong> and <strong>accuracy</strong> of trajectory analysis.
Furthermore, the combination of <strong>parabolic motion modeling</strong> and <strong>perspective correction</strong> contributes to more <strong>reliable landing point localization</strong> and <strong>robust shot classification</strong>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Introduction的直接連結" title="Introduction的直接連結">​</a></h2>
<p>The rapid development of <strong>computer vision</strong> and <strong>artificial intelligence (AI)</strong> has led to widespread use of <strong>object detection</strong> and <strong>tracking</strong> technologies, especially in <strong>sports analytics</strong>.
These technologies help improve athlete performance, support strategy planning, and enable post-match analysis.
However, ensuring both <strong>accuracy</strong> and <strong>real-time performance</strong> in <strong>high-speed sports</strong> remains a significant challenge.</p>
<p><strong>Table tennis</strong>, with its fast-moving ball and complex visual background, poses unique difficulties for traditional tracking algorithms.
Accurately detecting and tracking a <strong>small, high-speed object</strong> is essential for analyzing trajectories and landing points.</p>
<p>To address this, we adopt <strong>YOLOv7</strong> [1], a real-time object detection algorithm known for its <strong>speed</strong>, <strong>accuracy</strong>, and adaptability to fast-motion environments.
Combined with <strong>trajectory analysis</strong> and <strong>perspective transformation</strong>, our system can accurately classify landing results and provide detailed motion data.</p>
<p>This enables <strong>automatic evaluation</strong> of shots and supports training optimization, enhancing the functionality of <strong>automated ball-serving machines</strong>.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Original-Frame" src="/assets/images/Original-Frame-0853e88005be84a350b8392cbea21afa.png" width="700" height="470" class="img_ev3q"></th><th style="text-align:center"><img decoding="async" loading="lazy" alt="Small-Ball-Detection" src="/assets/images/Small-Ball-Detection-54fe84634829ad10de76d0b62e2c4959.png" width="700" height="470" class="img_ev3q"></th><th style="text-align:center"><img decoding="async" loading="lazy" alt="Trajectory-Assignment" src="/assets/images/Trajectory-Assignment-3cae1f4e124db9b6249cda055e19c335.png" width="700" height="470" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Original Frame</strong></td><td style="text-align:center"><strong>Small Ball Detection</strong></td><td style="text-align:center"><strong>Trajectory Assignment</strong></td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="methodology">Methodology<a href="#methodology" class="hash-link" aria-label="Methodology的直接連結" title="Methodology的直接連結">​</a></h2>
<p>This study proposes a <strong>YOLOv7-based detection and tracking framework</strong> tailored for the fast-paced dynamics of table tennis.
The system addresses the challenge of <strong>accurately tracking high-speed ball movement</strong> by integrating real-time object detection with robust trajectory estimation.</p>
<p>At the core of the system is <strong>YOLOv7</strong>, a state-of-the-art object detection model known for its <strong>high speed</strong> and <strong>accuracy</strong>.
Leveraging its powerful feature extraction and classification capabilities, YOLOv7 enables reliable detection of the ball&#x27;s presence and position, even under the complex visual conditions commonly encountered in table tennis matches.
Compared to traditional detection methods, YOLOv7 offers superior performance, ensuring <strong>efficient and stable tracking</strong>.</p>
<p>To manage object trajectories, the system incorporates a <strong>trajectory management module</strong> designed for <strong>multi-object tracking scenarios</strong>.
This mechanism precisely estimates and updates each trajectory, allowing the system to track multiple balls without confusion or target loss, even during rapid and overlapping movements.</p>
<p>An overview of the proposed method is illustrated in <strong>Figure 1</strong>. The process consists of the following stages:</p>
<ol>
<li><strong>YOLOv7 architecture and detection pipeline</strong> – for initial ball localization.</li>
<li><strong>Trajectory initialization and update</strong> – based on inter-frame ball properties such as distance, direction, aspect ratio, and IoU.</li>
<li><strong>Landing point detection</strong> – by identifying frames where the ball deviates from a parabolic path.</li>
<li><strong>Perspective transformation</strong> – using reference corners to map the landing point onto the table surface.</li>
<li><strong>Shot classification</strong> – categorizing results based on the landing region.</li>
</ol>
<p>This pipeline ensures that the system can provide <strong>accurate landing point localization</strong> and <strong>reliable shot classification</strong> under real-world table tennis conditions.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_1" src="/assets/images/Figure_1-d596857adf368e1619a6b1e70ab6c0bd.png" width="744" height="339" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 1</strong></td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="object-detection-model">Object Detection Model<a href="#object-detection-model" class="hash-link" aria-label="Object Detection Model的直接連結" title="Object Detection Model的直接連結">​</a></h2>
<p>In recent years, <strong>deep learning</strong> has been extensively applied in various computer vision tasks, including <strong>image classification</strong>, <strong>object detection</strong>, and <strong>semantic segmentation</strong>.
Among these, the <strong>Convolutional Neural Network (CNN)</strong> serves as a foundational architecture, integrating <strong>feature extraction</strong> and <strong>classification</strong> for efficient visual processing.</p>
<p>The feature extraction stage primarily consists of <strong>convolutional layers</strong> and <strong>pooling layers</strong>.
The convolutional layers use learnable <strong>kernels</strong> to perform operations over the input image with a defined <strong>stride</strong>, enabling the extraction of <strong>high-level semantic features</strong>.
Through multiple layers of convolution and pooling, the network produces a <strong>feature map</strong>, which is then passed to the classification head for final decision-making.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_2" src="/assets/images/Figure_2-b2daab9acb9241662a69a2f32a75dcb5.png" width="570" height="219" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 2.</strong> Illustration of convolutional operations in CNN.</td></tr></tbody></table>
<p>To enhance model accuracy, deep learning models utilize a <strong>loss function</strong> to compute the error between predicted outputs and ground truth labels.
This error is minimized through <strong>backpropagation</strong>, which updates the <strong>network weights</strong> iteratively to improve both learning capacity and generalization performance.</p>
<p>In object detection tasks, CNNs are widely adopted for <strong>localizing</strong> and <strong>classifying</strong> objects.
In particular, <strong>one-stage detection architectures</strong> have gained attention due to their <strong>efficiency</strong> and <strong>end-to-end learning capability</strong>.
These models integrate feature extraction and object recognition into a <strong>single unified framework</strong>, enabling faster inference. Notable one-stage detectors include <strong>Single Shot MultiBox Detector (SSD)</strong> [2], <strong>RetinaNet</strong> [3], and the <strong>You Only Look Once (YOLO)</strong> family and its variants.
These models are known for their streamlined architecture and real-time performance, making them well-suited for time-sensitive applications.</p>
<p>Given the <strong>fast motion</strong> and <strong>frequent direction changes</strong> of the ball in table tennis, a detection model that balances speed and accuracy is essential.
<strong>YOLOv7</strong> achieves this balance effectively and demonstrates strong adaptability to <strong>high-speed sports scenarios</strong>, making it an ideal choice for our system.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_3" src="/assets/images/Figure_3-4f99a8432094a8b81b13bfab8b85853b.png" width="2667" height="1500" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 3.</strong> Architecture of the YOLOv7 object detection model.</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="activation-function">Activation Function<a href="#activation-function" class="hash-link" aria-label="Activation Function的直接連結" title="Activation Function的直接連結">​</a></h3>
<p>During the feature extraction stage in convolutional neural networks, each neuron generates an output by computing a <strong>linear combination</strong> of inputs from the previous layer.
While this linear mapping is computationally efficient, it limits the network’s ability to capture <strong>nonlinear patterns</strong> and <strong>high-level semantic features</strong>.</p>
<p>To address this limitation, <strong>activation functions</strong> are employed to introduce <strong>nonlinear transformations</strong>, enabling the network to learn more expressive and complex representations.
Common activation functions include the <strong>Rectified Linear Unit (ReLU)</strong> [4] and the <strong>Leaky ReLU</strong> [5].</p>
<p>The <strong>ReLU</strong> function is defined as:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>ReLU</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{ReLU}(x) = \max(0, x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">ReLU</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_4" src="/assets/images/Figure_4-b82fa29b9aeadd601425a2d3b80b654a.png" width="640" height="480" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 4.</strong> Operation of the ReLU activation function.</td></tr></tbody></table>
<p>ReLU outputs the input directly if it is positive; otherwise, it outputs zero.
However, in the negative region, ReLU has a zero gradient, which may lead to the <strong>&quot;dead neuron&quot; problem</strong>, where neurons stop learning due to zero weight updates.</p>
<p>To overcome this issue, <strong>Leaky ReLU</strong> introduces a small slope <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span> in the negative region to retain a non-zero gradient:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Leaky ReLU</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>α</mi><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Leaky ReLU}(x) = \max(\alpha x, x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">Leaky ReLU</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord mathnormal">αx</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_5" src="/assets/images/Figure_5-5e53fbf4836e54bea66a5458281df205.png" width="640" height="480" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 5.</strong> Operation of the Leaky ReLU activation function.</td></tr></tbody></table>
<p>Although Leaky ReLU improves gradient flow, its nonlinear transformation remains relatively simple and may limit the ability to extract highly complex features.</p>
<p>To further enhance learning capability, <strong>YOLOv7</strong> adopts the <strong>Sigmoid Linear Unit (SiLU)</strong> [6] as its activation function. SiLU is defined as:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>SiLU</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi><mo>⋅</mo><mtext>sigmoid</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mi>x</mi><mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>x</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{SiLU}(x) = x \cdot \text{sigmoid}(x) = \frac{x}{1 + e^{-x}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">SiLU</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.4445em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">sigmoid</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.8769em;vertical-align:-0.7693em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6973em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_6" src="/assets/images/Figure_6-c4dd15cffb8c94ae6f8421f8f7e40535.png" width="640" height="480" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 6.</strong> Operation of the SiLU activation function.</td></tr></tbody></table>
<p>SiLU combines the input with its sigmoid activation, allowing the function to behave linearly for large positive inputs while smoothly approaching zero for negative inputs. Compared to ReLU and Leaky ReLU, SiLU offers a <strong>smoother curve</strong>, <strong>continuous output</strong>, and <strong>better gradient stability</strong>, which improves convergence during training and enhances the model’s ability to learn <strong>complex visual features</strong>.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bounding-box-loss-function">Bounding Box Loss Function<a href="#bounding-box-loss-function" class="hash-link" aria-label="Bounding Box Loss Function的直接連結" title="Bounding Box Loss Function的直接連結">​</a></h3>
<p>During the training of deep convolutional neural networks, the model learns to minimize a <strong>loss function</strong> in order to reduce prediction error and improve accuracy.
In <strong>object detection tasks</strong>, the <strong>Intersection over Union (IoU)</strong> metric is traditionally used to evaluate the overlap between the predicted and ground truth bounding boxes.
IoU is calculated as the ratio of the intersection area to the union area of the two boxes:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>IoU</mtext><mo>=</mo><mfrac><mtext>Area of Intersection</mtext><mtext>Area of Union</mtext></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{IoU} = \frac{\text{Area of Intersection}}{\text{Area of Union}} \tag{4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord text"><span class="mord">IoU</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord">Area of Union</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord">Area of Intersection</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.0574em;vertical-align:-0.686em"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">4</span></span><span class="mord">)</span></span></span></span></span></span>
<p>However, IoU only considers the <strong>overlap ratio</strong> and ignores other factors such as internal object structure or potential <strong>hollow regions</strong>, which may represent background areas inside the object boundary.
As a result, IoU may fail to provide a comprehensive assessment of detection accuracy, particularly in cases where internal inconsistencies affect localization.</p>
<p>To overcome these limitations, <strong>Complete IoU (CIoU)</strong> [7] was introduced as an enhanced bounding box regression metric.
CIoU incorporates additional geometric considerations such as the <strong>distance between box centers</strong>, <strong>aspect ratio consistency</strong>, and <strong>object completeness</strong>.
The CIoU loss is defined as:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mtext>CIoU</mtext><mo>=</mo><mn>1</mn><mo>−</mo><mtext>IoU</mtext><mo>+</mo><mfrac><mrow><msup><mi>ρ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><msup><mi mathvariant="bold">b</mi><mtext>pred</mtext></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mtext>gt</mtext></msup><mo stretchy="false">)</mo></mrow><msup><mi>c</mi><mn>2</mn></msup></mfrac><mo>+</mo><mi>α</mi><mi>ν</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\text{CIoU} = 1 - \text{IoU} + \frac{\rho^2(\mathbf{b}^{\text{pred}}, \mathbf{b}^{\text{gt}})}{c^2} + \alpha \nu \tag{5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord text"><span class="mord">CIoU</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord text"><span class="mord">IoU</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.2121em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5261em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">pred</span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7936em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">gt</span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.06366em">αν</span></span><span class="tag"><span class="strut" style="height:2.2121em;vertical-align:-0.686em"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">5</span></span><span class="mord">)</span></span></span></span></span></span>
<p>Where:</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">b</mi><mtext>gt</mtext></msup></mrow><annotation encoding="application/x-tex">\mathbf{b}^{\text{gt}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7936em"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7936em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">gt</span></span></span></span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">b</mi><mtext>pred</mtext></msup></mrow><annotation encoding="application/x-tex">\mathbf{b}^{\text{pred}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">pred</span></span></span></span></span></span></span></span></span></span></span></span></span> are the center points of the ground truth and predicted bounding boxes, respectively.</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ρ</mi></mrow><annotation encoding="application/x-tex">\rho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">ρ</span></span></span></span> represents the <strong>Euclidean distance</strong> between the two centers.</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">c</span></span></span></span> is the <strong>diagonal length</strong> of the smallest enclosing box that covers both predicted and ground truth boxes.</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span> is a weight function, and</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ν</mi></mrow><annotation encoding="application/x-tex">\nu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.06366em">ν</span></span></span></span> is the <strong>aspect ratio similarity</strong>, defined as:</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>ν</mi><mo>=</mo><mfrac><mn>4</mn><msup><mi>π</mi><mn>2</mn></msup></mfrac><msup><mrow><mo fence="true">(</mo><mi>arctan</mi><mo>⁡</mo><mfrac><msup><mi>w</mi><mtext>gt</mtext></msup><msup><mi>h</mi><mtext>gt</mtext></msup></mfrac><mo>−</mo><mi>arctan</mi><mo>⁡</mo><mfrac><msup><mi>w</mi><mtext>pred</mtext></msup><msup><mi>h</mi><mtext>pred</mtext></msup></mfrac><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\nu = \frac{4}{\pi^2} \left( \arctan \frac{w^{\text{gt}}}{h^{\text{gt}}} - \arctan \frac{w^{\text{pred}}}{h^{\text{pred}}} \right)^2 \tag{6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.06366em">ν</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.6801em;vertical-align:-0.95em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">π</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">(</span></span><span class="mop">arctan</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4706em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7196em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">gt</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7936em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">gt</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mop">arctan</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5261em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7751em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">pred</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">pred</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.7301em"><span style="top:-3.979em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:2.6801em;vertical-align:-0.95em"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">6</span></span><span class="mord">)</span></span></span></span></span></span>
<p>Here, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>w</mi><mtext>gt</mtext></msup><mo separator="true">,</mo><msup><mi>h</mi><mtext>gt</mtext></msup></mrow><annotation encoding="application/x-tex">w^{\text{gt}}, h^{\text{gt}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.988em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7936em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">gt</span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7936em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">gt</span></span></span></span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>w</mi><mtext>pred</mtext></msup><mo separator="true">,</mo><msup><mi>h</mi><mtext>pred</mtext></msup></mrow><annotation encoding="application/x-tex">w^{\text{pred}}, h^{\text{pred}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0435em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">pred</span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">pred</span></span></span></span></span></span></span></span></span></span></span></span></span> refer to the <strong>width and height</strong> of the ground truth and predicted bounding boxes, respectively.</p>
<p>In this study, <strong>CIoU is adopted as the bounding box loss function</strong> to guide the object detection model.
By accounting for both spatial alignment and shape similarity, CIoU enables the model to learn more precise bounding box placements, significantly reducing localization errors and improving overall detection performance.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-scale-feature-fusion-framework">Multi-Scale Feature Fusion Framework<a href="#multi-scale-feature-fusion-framework" class="hash-link" aria-label="Multi-Scale Feature Fusion Framework的直接連結" title="Multi-Scale Feature Fusion Framework的直接連結">​</a></h3>
<p>The combination of the <strong>Feature Pyramid Network (FPN)</strong> and <strong>Path Aggregation Network (PAN)</strong> forms an efficient framework for <strong>multi-scale feature extraction and fusion</strong>, significantly enhancing YOLOv7’s capability to detect objects of various sizes and shapes.</p>
<p>Originally proposed by Lin et al. [8], the <strong>FPN architecture</strong> (see <strong>Figure 7</strong>) introduces a <strong>top-down pathway</strong> that progressively transmits high-level semantic features to lower-resolution feature maps.
This design compensates for the semantic deficiency of early-layer features and improves the model&#x27;s ability to <strong>detect small objects</strong>.
By enabling feature flow across different layers, FPN allows multi-scale representations to be more semantically informative, thereby boosting detection accuracy across scales.</p>
<p>In contrast, the <strong>PAN structure</strong> introduces a <strong>bottom-up pathway</strong> that aggregates features from low to high levels.
This enhances object <strong>localization</strong> by enabling high-level features to incorporate <strong>fine-grained spatial and structural details</strong> from lower layers.
Conversely, low-level features are enriched with <strong>semantic context</strong> from upper layers.
The dual-directional flow ensures that feature maps at all levels are both <strong>semantically meaningful</strong> and <strong>spatially detailed</strong>.</p>
<p>Additionally, PAN incorporates <strong>lateral connections</strong> to strengthen inter-layer communication, leading to more effective feature fusion.
This architectural refinement enhances the network&#x27;s robustness when detecting objects with <strong>varied scales, aspect ratios, and complexities</strong>.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_7" src="/assets/images/Figure_7-54e20375b3d3db6ce65c349efa8c64d3.png" width="635" height="460" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 7.</strong> Architecture of the Feature Pyramid Network (FPN).</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sppcspc-network">SPPCSPC Network<a href="#sppcspc-network" class="hash-link" aria-label="SPPCSPC Network的直接連結" title="SPPCSPC Network的直接連結">​</a></h3>
<p>The <strong>SPPCSPC network</strong> integrates the advantages of <strong>Spatial Pyramid Pooling (SPP)</strong> [9] and the <strong>Cross Stage Partial Network (CSPNet)</strong> [10] to enhance feature extraction capabilities and expand the <strong>receptive field</strong> of the model.</p>
<p>In the SPP module, input tensors are processed using <strong>max pooling operations</strong> with varying kernel sizes, all applied with a <strong>stride of 1</strong> to maintain the original spatial resolution.
By performing pooling at multiple scales, the module is able to capture <strong>multi-level features</strong> effectively.
These pooled feature maps are then concatenated with the original input to increase the model’s sensitivity to <strong>objects of varying sizes</strong>.</p>
<p>On the other hand, <strong>CSPNet</strong> improves computational efficiency by <strong>splitting the input feature map into two parts</strong>.
One part is passed through the SPP module to enhance the receptive field, while the other undergoes only a <strong>single convolutional layer</strong> to preserve critical feature information.
The two outputs are then <strong>fused</strong> and passed to the next stage of the network. This design not only leverages features from <strong>different levels</strong>, but also significantly reduces <strong>parameter count</strong> and improves <strong>inference speed</strong>.</p>
<p>The structure of SPPCSPC is illustrated in <strong>Figure 8</strong>, where each branch represents a distinct max pooling operation at a specific scale.
This architecture <strong>expands the receptive field</strong>, improves robustness, and enhances the network’s ability to detect <strong>objects of diverse scales and shapes</strong>.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_8" src="/assets/images/Figure_8-fa6644e3773153060a16a84ae65eea0d.png" width="510" height="230" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 8.</strong> Architecture of the SPPCSPC network.</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="efficient-layer-aggregation-network">Efficient Layer Aggregation Network<a href="#efficient-layer-aggregation-network" class="hash-link" aria-label="Efficient Layer Aggregation Network的直接連結" title="Efficient Layer Aggregation Network的直接連結">​</a></h3>
<p>The <strong>Efficient Layer Aggregation Network (ELAN)</strong>, proposed by Wang et al. [11], serves as the <strong>backbone</strong> in object detection networks, designed for efficient and scalable feature extraction.</p>
<p>ELAN is built upon <strong>gradient path design strategies</strong>, aiming to address the issue of <strong>slower convergence</strong> that occurs as network depth increases.
By analyzing the <strong>shortest and longest gradient paths</strong> throughout the network, ELAN introduces an optimized <strong>layer aggregation mechanism</strong> to improve gradient flow, ensuring effective training and convergence even in <strong>deep architectures</strong>.</p>
<p>The ELAN design integrates advantages from both <strong>VoVNet</strong> [12] and <strong>Cross Stage Partial Network (CSPNet)</strong> [10].
In particular, the <strong>cross-stage connections</strong> from CSPNet are leveraged to enhance <strong>feature fusion</strong> and promote information sharing across layers.
This enables the network to make better use of <strong>multi-level representations</strong>, leading to <strong>stronger feature expressiveness</strong>, improved detection accuracy, and faster inference.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_9" src="/assets/images/Figure_9-a3e2a0a62c9c7d03ace371e21f9dbc49.png" width="968" height="237" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 9.</strong> Architecture of the Efficient Layer Aggregation Network (ELAN).</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="trajectory-management-mechanism"><strong>Trajectory Management Mechanism</strong><a href="#trajectory-management-mechanism" class="hash-link" aria-label="trajectory-management-mechanism的直接連結" title="trajectory-management-mechanism的直接連結">​</a></h2>
<p>To robustly track fast-moving table tennis balls across frames, this study introduces a <strong>trajectory management mechanism</strong> that performs dynamic ball-to-track association based on a weighted evaluation of multiple features.
The system computes a <strong>matching score</strong> between each detected bounding box and existing tracked objects to determine whether to update an existing trajectory or initialize a new one, as illustrated in <strong>Figure 10</strong>.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="feature-extraction-and-similarity-scoring"><strong>Feature Extraction and Similarity Scoring</strong><a href="#feature-extraction-and-similarity-scoring" class="hash-link" aria-label="feature-extraction-and-similarity-scoring的直接連結" title="feature-extraction-and-similarity-scoring的直接連結">​</a></h3>
<p>For each detection, the system calculates the following features in comparison to every existing tracked ball:</p>
<ul>
<li><strong>Intersection over Union (IoU)</strong>: Measures the spatial overlap between the new detection and the existing ball’s predicted bounding box.</li>
<li><strong>Direction Similarity</strong>: Computed via cosine similarity between the estimated motion direction of the ball and the vector from the average center to the current detection.</li>
<li><strong>Aspect Ratio Difference</strong>: Quantifies the deviation in width-height ratio between the current and historical bounding boxes.</li>
<li><strong>Weighted Distance</strong>: Emphasizes vertical displacement more heavily than horizontal, given the motion characteristics in table tennis.</li>
</ul>
<p>The <strong>normalized scores</strong> for each feature are defined as:</p>
<ul>
<li><strong>IoU score</strong>:<!-- -->
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>S</mi><mtext>iou</mtext></msub><mo>=</mo><mtext>IoU</mtext></mrow><annotation encoding="application/x-tex">S_{\text{iou}} = \text{IoU}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">iou</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord text"><span class="mord">IoU</span></span></span></span></span></span>
</li>
<li><strong>Direction score</strong> (cosine similarity bounded in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[-1, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>):<!-- -->
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>S</mi><mtext>dir</mtext></msub><mo>=</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mtext>avg</mtext></msub><mo>⋅</mo><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mtext>new</mtext></msub></mrow><mrow><mi mathvariant="normal">∥</mi><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mtext>avg</mtext></msub><mi mathvariant="normal">∥</mi><mo>⋅</mo><mi mathvariant="normal">∥</mi><msub><mover accent="true"><mi>v</mi><mo>⃗</mo></mover><mtext>new</mtext></msub><mi mathvariant="normal">∥</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">S_{\text{dir}} = \cos(\theta) = \frac{\vec{v}_{\text{avg}} \cdot \vec{v}_{\text{new}}}{\| \vec{v}_{\text{avg}} \| \cdot \| \vec{v}_{\text{new}} \|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">dir</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.3631em;vertical-align:-0.9721em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.391em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">∥</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">avg</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">∥</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">new</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord">∥</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">avg</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.2077em"><span class="overlay" style="height:0.714em;width:0.471em"><svg xmlns="http://www.w3.org/2000/svg" width="0.471em" height="0.714em" style="width:0.471em" viewBox="0 0 471 714" preserveAspectRatio="xMinYMin"><path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">new</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
</li>
<li><strong>Distance score</strong> (normalized and reversed):<!-- -->
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>S</mi><mtext>dis</mtext></msub><mo>=</mo><mn>1</mn><mo>−</mo><mi>min</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mi>d</mi><msub><mi>d</mi><mtext>max</mtext></msub></mfrac><mo separator="true">,</mo><mn>1</mn><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">S_{\text{dis}} = 1 - \min\left( \frac{d}{d_{\text{max}}}, 1 \right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">dis</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="mop">min</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">max</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">)</span></span></span></span></span></span></span>
</li>
<li><strong>Aspect Ratio score</strong>:<!-- -->
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>S</mi><mtext>ar</mtext></msub><mo>=</mo><mn>1</mn><mo>−</mo><mi>min</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><mfrac><mi>w</mi><mi>h</mi></mfrac><mo>−</mo><mfrac><msup><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mi>h</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mfrac><mi mathvariant="normal">∣</mi></mrow><msub><mi mathvariant="normal">Δ</mi><mtext>max</mtext></msub></mfrac><mo separator="true">,</mo><mn>1</mn><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">S_{\text{ar}} = 1 - \min\left( \frac{|\frac{w}{h} - \frac{w&#x27;}{h&#x27;}|}{\Delta_{\text{max}}}, 1 \right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ar</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em"></span><span class="mop">min</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size4">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7085em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">max</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.735em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9735em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828em"><span style="top:-2.786em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em"><span style="top:-2.931em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size4">)</span></span></span></span></span></span></span>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adaptive-weighting-mechanism"><strong>Adaptive Weighting Mechanism</strong><a href="#adaptive-weighting-mechanism" class="hash-link" aria-label="adaptive-weighting-mechanism的直接連結" title="adaptive-weighting-mechanism的直接連結">​</a></h3>
<p>To improve adaptability across scenes and object positions, this study introduces a <strong>context-aware weighting strategy</strong>.
The weights for each feature are computed dynamically based on:</p>
<ul>
<li>The <strong>historical IoU</strong> value</li>
<li>The <strong>horizontal position</strong> of the ball in the frame (used as a proxy for motion context)</li>
</ul>
<p>Let the weights be <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mtext>iou</mtext></msub></mrow><annotation encoding="application/x-tex">w_{\text{iou}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">iou</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mtext>dir</mtext></msub></mrow><annotation encoding="application/x-tex">w_{\text{dir}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">dir</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mtext>dis</mtext></msub></mrow><annotation encoding="application/x-tex">w_{\text{dis}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">dis</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mtext>ar</mtext></msub></mrow><annotation encoding="application/x-tex">w_{\text{ar}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ar</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, the total score is calculated as:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Score</mtext><mo>=</mo><msub><mi>w</mi><mtext>iou</mtext></msub><mo>⋅</mo><msub><mi>S</mi><mtext>iou</mtext></msub><mo>+</mo><msub><mi>w</mi><mtext>dir</mtext></msub><mo>⋅</mo><msub><mi>S</mi><mtext>dir</mtext></msub><mo>+</mo><msub><mi>w</mi><mtext>dis</mtext></msub><mo>⋅</mo><msub><mi>S</mi><mtext>dis</mtext></msub><mo>+</mo><msub><mi>w</mi><mtext>ar</mtext></msub><mo>⋅</mo><msub><mi>S</mi><mtext>ar</mtext></msub></mrow><annotation encoding="application/x-tex">\text{Score} = w_{\text{iou}} \cdot S_{\text{iou}} + w_{\text{dir}} \cdot S_{\text{dir}} + w_{\text{dis}} \cdot S_{\text{dis}} + w_{\text{ar}} \cdot S_{\text{ar}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord text"><span class="mord">Score</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">iou</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3175em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">iou</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">dir</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">dir</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">dis</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">dis</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ar</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ar</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assignment-decision"><strong>Assignment Decision</strong><a href="#assignment-decision" class="hash-link" aria-label="assignment-decision的直接連結" title="assignment-decision的直接連結">​</a></h3>
<p>Each detection is compared against all existing tracked balls.
Pairs are ranked by score and greedily assigned, ensuring each detection and trajectory is matched at most once.
If a score exceeds a predefined <strong>association threshold</strong>, the detection updates the matched trajectory; otherwise, a <strong>new trajectory</strong> is initialized.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="benefits"><strong>Benefits</strong><a href="#benefits" class="hash-link" aria-label="benefits的直接連結" title="benefits的直接連結">​</a></h3>
<p>This mechanism allows:</p>
<ul>
<li><strong>Robust multi-ball tracking</strong> in scenes with multiple fast-moving objects</li>
<li><strong>Adaptive scoring</strong> based on real-time motion behavior and object location</li>
<li><strong>Accurate trajectory continuity</strong>, even under partial occlusion or irregular movement</li>
</ul>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_10" src="/assets/images/Figure_10-503fe0ebcd188830d50968cfe3c39bf9.png" width="1311" height="1030" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 10.</strong> Flowchart of the trajectory association mechanism based on multi-feature scoring and adaptive weighting.</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bounce-detection-method">Bounce Detection Method<a href="#bounce-detection-method" class="hash-link" aria-label="Bounce Detection Method的直接連結" title="Bounce Detection Method的直接連結">​</a></h2>
<p>In this study, bounce points are detected by leveraging the <strong>parabolic nature</strong> of the ball&#x27;s motion trajectory.
A bounce is inferred when the ball <strong>deviates from a previously fitted parabolic curve</strong>, indicating contact with the table surface and the start of a new motion path.</p>
<p>This system specifically focuses on detecting the <strong>first bounce point of a rightward-moving trajectory</strong>, as the ball is consistently served from the right side.
Subsequent bounces are not considered in this analysis.</p>
<p>To determine if a bounce has occurred, the system compares the <strong>vertical deviation</strong> between the predicted trajectory and the actual observed ball position.
A bounce is registered if this deviation exceeds a predefined threshold.
To avoid false positives from paddle swings or noise, only detections with <strong>consistent rightward motion</strong> are evaluated.</p>
<p>The full algorithm, including <a href="/docs/research/Table-Tennis-Trajectory-Landing-Point-and-Speed-Analysis-System#parabolic-equation-calculation"><strong>parabolic equation fitting</strong></a> and <a href="/docs/research/Table-Tennis-Trajectory-Landing-Point-and-Speed-Analysis-System#bounce-coordinate-calculation"><strong>bounce coordinate estimation</strong></a>, follows the approach detailed in a related work:
<a href="/docs/research/Table-Tennis-Trajectory-Landing-Point-and-Speed-Analysis-System"><strong>&quot;Table Tennis Trajectory Landing Point and Speed Analysis System&quot;</strong></a>, which can be referenced for the complete mathematical formulation and detection logic.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="experimental-results-1">Experimental Results<a href="#experimental-results-1" class="hash-link" aria-label="Experimental Results的直接連結" title="Experimental Results的直接連結">​</a></h2>
<p>In this study, we conducted experiments using video footage recorded in the <strong>Smart Table Tennis Classroom at National Chung Hsing University</strong>, capturing the launching process of an automatic ball-serving machine.
An overview of the experimental setup, including the camera position and ball-serving machine, is shown in <strong>Figure 11</strong>.
The resulting dataset covers a variety of ball trajectory scenarios. The proposed system, based on <strong>YOLOv7</strong> and the <strong>trajectory management mechanism</strong>, was evaluated for its adaptability to high-speed motion and its processing efficiency.</p>
<table><thead><tr><th style="text-align:center"><img decoding="async" loading="lazy" alt="Figure_11" src="/assets/images/Figure_11-e00ada9bbeaf3e2eddb7d70b4dc3f07d.png" width="1920" height="1080" class="img_ev3q"></th></tr></thead><tbody><tr><td style="text-align:center"><strong>Figure 11.</strong> Experimental setup in the Smart Table Tennis Classroom at National Chung Hsing University.</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-evaluation">Runtime Evaluation<a href="#runtime-evaluation" class="hash-link" aria-label="Runtime Evaluation的直接連結" title="Runtime Evaluation的直接連結">​</a></h3>
<p>To evaluate the system’s real-time performance, we measured the processing time required to analyze a test video.
As shown in <strong>Table 1</strong>, the system successfully completed trajectory tracking and bounce classification in approximately <strong>one-third of the total video duration</strong>, demonstrating excellent computational efficiency.</p>
<p>In the case of a 1-minute and 31-second input video, the YOLOv7 detection module achieved a rate of <strong>58.1 frames per second (FPS)</strong>, enabling reliable real-time ball localization.
These detections were then fed into the trajectory tracking module, which analyzed bounding box <strong>aspect ratios</strong>, <strong>movement direction</strong>, <strong>distances</strong>, and <strong>IoU</strong> across consecutive frames.
The system was able to accurately construct or update trajectories and identify bounce points as the ball deviated from its parabolic motion.</p>
<p>The full process took <strong>39 seconds</strong>, completing the tracking and classification of all detected trajectories, and demonstrating that the proposed method can handle high-speed sports scenarios with both <strong>accuracy</strong> and <strong>efficiency</strong>.</p>
<p><strong>Table 1. System processing time</strong></p>
<table><thead><tr><th style="text-align:center">Video Length</th><th style="text-align:center">YOLO FPS</th><th style="text-align:center">Ball Trajectory Tracking</th><th style="text-align:center">Total Processing Time</th></tr></thead><tbody><tr><td style="text-align:center">1 min 31 sec</td><td style="text-align:center">58.1 FPS</td><td style="text-align:center">39 sec</td><td style="text-align:center">39 sec</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="result-visualization">Result Visualization<a href="#result-visualization" class="hash-link" aria-label="Result Visualization的直接連結" title="Result Visualization的直接連結">​</a></h3>
<p>Through the integration of the trajectory management mechanism and bounce point detection, the system successfully identified landing positions and classified each shot as either a valid hit or an error.
Examples of these classifications can be observed in the <a href="#experimental-results"><strong>experimental results video</strong></a>.</p>
<p>When no new detections are added to a trajectory for six consecutive frames, the system determines that the trajectory has ended.
Based on the direction of motion at the final point, the system further classifies the outcome as either an out-of-bounds shot or a miss.
These cases are also demonstrated in the <strong>video visualization</strong>.</p>
<p>In addition to trajectory tracking and classification, a simple scoring mechanism was implemented to simulate a competitive match setting.
Each round consists of four serves, and if all four result in valid hits, the player earns one point; otherwise, the point is awarded to the ball-serving machine.
A total of seven rounds were conducted. The <strong>final score is displayed at the top of the video</strong>, while <strong>shot classifications</strong> appear in the <strong>top-left corner</strong>, providing immediate feedback and enhancing the system’s application value in smart table tennis training and match analysis.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件選項卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/research/Table-Tennis-Trajectory-Landing-Point-and-Speed-Analysis-System"><div class="pagination-nav__sublabel">上一頁</div><div class="pagination-nav__label">Table Tennis Trajectory Landing Point and Speed Analysis System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/research/Enhancing-UNet3Plus-Robustness-with-Weight-Perturbation"><div class="pagination-nav__sublabel">下一頁</div><div class="pagination-nav__label">Enhancing UNet3+ Robustness with Weight Perturbation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#experimental-results" class="table-of-contents__link toc-highlight">Experimental Results</a></li><li><a href="#explanatory-videos" class="table-of-contents__link toc-highlight">Explanatory Videos</a></li><li><a href="#paper-presentation-at-itaoi-2025" class="table-of-contents__link toc-highlight">Paper Presentation at ITAOI 2025</a></li><li><a href="#abstract" class="table-of-contents__link toc-highlight">Abstract</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#methodology" class="table-of-contents__link toc-highlight">Methodology</a></li><li><a href="#object-detection-model" class="table-of-contents__link toc-highlight">Object Detection Model</a><ul><li><a href="#activation-function" class="table-of-contents__link toc-highlight">Activation Function</a></li><li><a href="#bounding-box-loss-function" class="table-of-contents__link toc-highlight">Bounding Box Loss Function</a></li><li><a href="#multi-scale-feature-fusion-framework" class="table-of-contents__link toc-highlight">Multi-Scale Feature Fusion Framework</a></li><li><a href="#sppcspc-network" class="table-of-contents__link toc-highlight">SPPCSPC Network</a></li><li><a href="#efficient-layer-aggregation-network" class="table-of-contents__link toc-highlight">Efficient Layer Aggregation Network</a></li></ul></li><li><a href="#trajectory-management-mechanism" class="table-of-contents__link toc-highlight"><strong>Trajectory Management Mechanism</strong></a><ul><li><a href="#feature-extraction-and-similarity-scoring" class="table-of-contents__link toc-highlight"><strong>Feature Extraction and Similarity Scoring</strong></a></li><li><a href="#adaptive-weighting-mechanism" class="table-of-contents__link toc-highlight"><strong>Adaptive Weighting Mechanism</strong></a></li><li><a href="#assignment-decision" class="table-of-contents__link toc-highlight"><strong>Assignment Decision</strong></a></li><li><a href="#benefits" class="table-of-contents__link toc-highlight"><strong>Benefits</strong></a></li></ul></li><li><a href="#bounce-detection-method" class="table-of-contents__link toc-highlight">Bounce Detection Method</a></li><li><a href="#experimental-results-1" class="table-of-contents__link toc-highlight">Experimental Results</a><ul><li><a href="#runtime-evaluation" class="table-of-contents__link toc-highlight">Runtime Evaluation</a></li><li><a href="#result-visualization" class="table-of-contents__link toc-highlight">Result Visualization</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">This Website</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/notes">Notes</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/research">Research</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/koteruon" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://pda.104.com.tw/profile/preview?vno=75wef33ky" target="_blank" rel="noopener noreferrer" class="footer__link-item">104<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/%E7%85%A7%E6%81%A9-%E9%BB%83-93511b25b" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Acknowledgement</div><ul class="footer__items clean-list"><li class="footer__item">
              <p>
              illustrations by <a href="https://storyset.com/web">Storyset</a>
              </p>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Chao-En Huang. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>